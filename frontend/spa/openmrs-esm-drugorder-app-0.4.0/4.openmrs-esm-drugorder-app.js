(window.webpackJsonp_openmrs_esm_drugorder=window.webpackJsonp_openmrs_esm_drugorder||[]).push([[4],{117:function(e,t,r){var i=r(18),o=r(118);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},118:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__floating-order-basket-button__resetPatientChartWidgetContainer___1Hlgw{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__floating-order-basket-button__productiveHeading01___350lQ{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__floating-order-basket-button__productiveHeading02___2bgOH{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading03___1SBlp{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading04___1xe-f{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading05___1o0FG{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__floating-order-basket-button__productiveHeading06___3NUXw{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__floating-order-basket-button__bodyShort01___Fq8-v{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__floating-order-basket-button__bodyShort02___3E8Pl{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__floating-order-basket-button__bodyLong01___1Ep7I{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__floating-order-basket-button__bodyLong02___3HBsc{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__floating-order-basket-button__label01___21t61{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__floating-order-basket-button__clipTextWithEllipsis___un0q_{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC{position:fixed;bottom:1rem;right:1rem;height:56px;font-weight:bold;padding-right:15px !important}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC .esm-drugorder__floating-order-basket-button__elementContainer___2u0wH{display:flex}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC svg{margin:auto 10px auto 20px}.esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC .esm-drugorder__floating-order-basket-button__countTag___VEF7m{position:absolute;top:0px;right:7px;transform:scale(0.8);min-width:initial;min-height:initial;background-color:#fa4d56;color:white}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__floating-order-basket-button__resetPatientChartWidgetContainer___1Hlgw",productiveHeading01:"esm-drugorder__floating-order-basket-button__productiveHeading01___350lQ",productiveHeading02:"esm-drugorder__floating-order-basket-button__productiveHeading02___2bgOH",productiveHeading03:"esm-drugorder__floating-order-basket-button__productiveHeading03___1SBlp",productiveHeading04:"esm-drugorder__floating-order-basket-button__productiveHeading04___1xe-f",productiveHeading05:"esm-drugorder__floating-order-basket-button__productiveHeading05___1o0FG",productiveHeading06:"esm-drugorder__floating-order-basket-button__productiveHeading06___3NUXw",bodyShort01:"esm-drugorder__floating-order-basket-button__bodyShort01___Fq8-v",bodyShort02:"esm-drugorder__floating-order-basket-button__bodyShort02___3E8Pl",bodyLong01:"esm-drugorder__floating-order-basket-button__bodyLong01___1Ep7I",bodyLong02:"esm-drugorder__floating-order-basket-button__bodyLong02___3HBsc",label01:"esm-drugorder__floating-order-basket-button__label01___21t61",clipTextWithEllipsis:"esm-drugorder__floating-order-basket-button__clipTextWithEllipsis___un0q_",floatingOrderBasketButton:"esm-drugorder__floating-order-basket-button__floatingOrderBasketButton___1DWfC",elementContainer:"esm-drugorder__floating-order-basket-button__elementContainer___2u0wH",countTag:"esm-drugorder__floating-order-basket-button__countTag___VEF7m"},e.exports=t},119:function(e,t,r){var i=r(18),o=r(120);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},120:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__medications-summary__resetPatientChartWidgetContainer___3-XUb{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medications-summary__productiveHeading01___34oiF{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medications-summary__productiveHeading02___1HQJA{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading03___2svnu{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading04___3x6R4{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading05___TMfFd{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-summary__productiveHeading06___NAbum{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medications-summary__bodyShort01___maH6l{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medications-summary__bodyShort02___Hw-ty{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medications-summary__bodyLong01___iXliH{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medications-summary__bodyLong02___1pcoa{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medications-summary__label01___Tl129{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medications-summary__clipTextWithEllipsis___1bX6t{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medications-summary__resetPatientChartWidgetContainer___3-XUb",productiveHeading01:"esm-drugorder__medications-summary__productiveHeading01___34oiF",productiveHeading02:"esm-drugorder__medications-summary__productiveHeading02___1HQJA",productiveHeading03:"esm-drugorder__medications-summary__productiveHeading03___2svnu",productiveHeading04:"esm-drugorder__medications-summary__productiveHeading04___3x6R4",productiveHeading05:"esm-drugorder__medications-summary__productiveHeading05___TMfFd",productiveHeading06:"esm-drugorder__medications-summary__productiveHeading06___NAbum",bodyShort01:"esm-drugorder__medications-summary__bodyShort01___maH6l",bodyShort02:"esm-drugorder__medications-summary__bodyShort02___Hw-ty",bodyLong01:"esm-drugorder__medications-summary__bodyLong01___iXliH",bodyLong02:"esm-drugorder__medications-summary__bodyLong02___1pcoa",label01:"esm-drugorder__medications-summary__label01___Tl129",clipTextWithEllipsis:"esm-drugorder__medications-summary__clipTextWithEllipsis___1bX6t"},e.exports=t},121:function(e,t,r){var i=r(18),o=r(122);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},122:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__root__resetPatientChartWidgetContainer___1MrHS{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__root__productiveHeading01___mR7bV{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__root__productiveHeading02___2iG4v{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading03___2YjqI{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading04___2l6zF{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading05___3Nw1d{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__root__productiveHeading06___2JVFI{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__root__bodyShort01___1q7zW{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__root__bodyShort02___2BH16{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__root__bodyLong01___o1_e6{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__root__bodyLong02___2WuzK{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__root__label01___3A0fR{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__root__clipTextWithEllipsis___3e37l{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__root__resetPatientChartWidgetContainer___1MrHS",productiveHeading01:"esm-drugorder__root__productiveHeading01___mR7bV",productiveHeading02:"esm-drugorder__root__productiveHeading02___2iG4v",productiveHeading03:"esm-drugorder__root__productiveHeading03___2YjqI",productiveHeading04:"esm-drugorder__root__productiveHeading04___2l6zF",productiveHeading05:"esm-drugorder__root__productiveHeading05___3Nw1d",productiveHeading06:"esm-drugorder__root__productiveHeading06___2JVFI",bodyShort01:"esm-drugorder__root__bodyShort01___1q7zW",bodyShort02:"esm-drugorder__root__bodyShort02___2BH16",bodyLong01:"esm-drugorder__root__bodyLong01___o1_e6",bodyLong02:"esm-drugorder__root__bodyLong02___2WuzK",label01:"esm-drugorder__root__label01___3A0fR",clipTextWithEllipsis:"esm-drugorder__root__clipTextWithEllipsis___3e37l"},e.exports=t},162:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return L}));var i=r(5),o=r.n(i),n=r(61),a=r(17),d=r(10),s=r(7),_=r(166),u=r(14),l=r.n(u),g=r(15),c=r.n(g),m=r(6),p=r(134),b=r(52);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}).apply(this,arguments)}function h(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){if(null==e)return{};var r,i,o=function(e,t){if(null==e)return{};var r,i,o={},n=Object.keys(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)r=n[i],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var v=m.settings.prefix,w=Object(b.a)(),H={red:"Red",magenta:"Magenta",purple:"Purple",blue:"Blue",cyan:"Cyan",teal:"Teal",green:"Green",gray:"Gray","cool-gray":"Cool-Gray","warm-gray":"Warm-Gray","high-contrast":"High-Contrast"},A=function(e){var t,r=e.children,i=e.className,n=e.id,a=e.type,d=e.filter,s=e.title,_=e.disabled,u=e.onClose,l=y(e,["children","className","id","type","filter","title","disabled","onClose"]),g=n||"tag-".concat(w()),m=c()("".concat(v,"--tag"),i,(h(t={},"".concat(v,"--tag--disabled"),_),h(t,"".concat(v,"--tag--filter"),d),h(t,"".concat(v,"--tag--").concat(a),a),t));return d?o.a.createElement("div",f({className:m,"aria-label":void 0!==s?"".concat(s," ").concat(r):"Clear filter ".concat(r),id:g},l),o.a.createElement("span",{className:"".concat(v,"--tag__label"),title:"string"==typeof r?r:null},null!=r?r:H[a]),o.a.createElement("button",{type:"button",className:"".concat(v,"--tag__close-icon"),onClick:function(e){u&&(e.stopPropagation(),u(e))},disabled:_,"aria-labelledby":g,title:s},o.a.createElement(p.e,null))):o.a.createElement("span",f({className:m,title:"string"==typeof r?r:null},l),null!=r?r:H[a])};A.propTypes={children:l.a.node,className:l.a.string,disabled:l.a.bool,filter:l.a.bool,id:l.a.string,onClose:l.a.func,title:l.a.string,type:l.a.oneOf(Object.keys(H))};Object.keys(H);var E=A,x=r(136),k=r(117),C=r.n(k),O=r(27),T=r(11);var S=Object(O.connect)("items")(({patientUuid:e,items:t})=>{const{t:r}=Object(s.useTranslation)();return o.a.createElement(_.a,{kind:"secondary",className:C.a.floatingOrderBasketButton,style:{},onClick:()=>{const t=`/patient/${e}/drugorder/basket`;Object(T.switchTo)("workspace",t,{title:r("orderBasket","Order Basket")})}},o.a.createElement("div",{className:C.a.elementContainer},o.a.createElement("span",null,r("orderBasket","Order Basket")),o.a.createElement(x.c,null),t.length>0&&o.a.createElement(E,{className:C.a.countTag},t.length)))}),D=r(119),z=r.n(D),N=r(63),U=r(156),B=r(56);function j({patientUuid:e}){const{t:t}=Object(s.useTranslation)(),[r]=Object(B.a)(e,"ACTIVE"),[i]=Object(B.a)(e,"any");return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:z.a.productiveHeading03},t("medications","Medications")),r?o.a.createElement(N.a,{title:t("activeMedications","Active Medications"),medications:r,showDiscontinueButton:!0,showModifyButton:!0,showReorderButton:!1,showAddNewButton:!1}):o.a.createElement(U.a,null),o.a.createElement("div",{style:{marginTop:"3rem"}},i?o.a.createElement(N.a,{title:t("pastMedications","Past Medications"),medications:i,showDiscontinueButton:!1,showModifyButton:!1,showReorderButton:!0,showAddNewButton:!1}):o.a.createElement(U.a,null)),o.a.createElement(S,{patientUuid:e}))}var I=r(121),W=r.n(I),F=r(28);function L({patientUuid:e}){return o.a.createElement("div",{className:W.a.resetPatientChartWidgetContainer},o.a.createElement(n.a,{basename:window.getOpenmrsSpaBase()},o.a.createElement(a.c,null,o.a.createElement(a.a,{exact:!0,path:"/patient/:patientUuid/chart/orders"},o.a.createElement(O.Provider,{store:F.a},o.a.createElement(j,{patientUuid:e}))))))}Object(d.defineConfigSchema)("@openmrs/esm-drugorder-app",{})},28:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var i=r(8);const o=Object(i.createGlobalStore)("drug-order-basket",{items:[]}),n={setItems:(e,t)=>({items:"function"==typeof t?t():t})}},29:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return _}));var i=r(8),o=r(31);function n(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/encounter?patient=${e}&order=desc&limit=1&v=custom:(uuid)`,{signal:t.signal})}function a(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/drug?q=${e}&v=custom:(uuid,name,strength,dosageForm:(display,uuid),concept)`,{signal:null==t?void 0:t.signal})}function d(e){return Object(i.openmrsFetch)("/ws/rest/v1/concept/1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA?v=custom:(answers:(uuid,display))",e)}function s(e,t){return Object(i.openmrsFetch)("/ws/rest/v1/order",{method:"POST",signal:null==t?void 0:t.signal,headers:{"Content-Type":"application/json"},body:e})}async function _(e,t,r){const{data:n}=await Object(i.openmrsFetch)(`/ws/rest/v1/order?patient=${e}&careSetting=${o.a}&status=${t}&v=custom:(uuid,dosingType,orderNumber,accessionNumber,patient:ref,action,careSetting:ref,previousOrder:ref,dateActivated,scheduledDate,dateStopped,autoExpireDate,orderType:ref,encounter:ref,orderer:ref,orderReason,orderReasonNonCoded,orderType,urgency,instructions,commentToFulfiller,drug:(uuid,name,strength,dosageForm:(display,uuid),concept),dose,doseUnits:ref,frequency:ref,asNeeded,asNeededCondition,quantity,quantityUnits:ref,numRefills,dosingInstructions,duration,durationUnits:ref,route:ref,brandName,dispenseAsWritten)`,{signal:null==r?void 0:r.signal});return n.results.filter(e=>"Drug Order"===e.orderType.display)}},31:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));const i="6f0c9a92-6f24-11e3-af88-005056821db0",o={uuid:"1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Days"}},38:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r(83);function o(e,t,r){var o;const n=Object(i.a)(e,r);return[null!==(o=n[t-1])&&void 0!==o?o:[],n]}},56:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(5),o=r(9),n=r(29);function a(e,t){const[r,a]=Object(i.useState)(null),d=r=>Object(n.a)(e,t,r).then(e=>{a(e)},o.createErrorHandler);return Object(i.useEffect)(()=>{const e=new AbortController;return d(e),()=>e.abort()},[e]),[r,d]}},57:function(e,t,r){var i=r(18),o=r(58);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},58:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medications-details-table__productiveHeading01___Mm5iC{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medications-details-table__productiveHeading02___1KYSl{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading03___3i6fP{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading04___2ow0_{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading05___GkO4Q{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading06___3ghb0{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medications-details-table__bodyShort01___2Dk9p{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyShort02___1lAn0{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medications-details-table__bodyLong01___3HoS-{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyLong02___2UfwL{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medications-details-table__label01___sSG0u{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk",productiveHeading01:"esm-drugorder__medications-details-table__productiveHeading01___Mm5iC",productiveHeading02:"esm-drugorder__medications-details-table__productiveHeading02___1KYSl",productiveHeading03:"esm-drugorder__medications-details-table__productiveHeading03___3i6fP",productiveHeading04:"esm-drugorder__medications-details-table__productiveHeading04___2ow0_",productiveHeading05:"esm-drugorder__medications-details-table__productiveHeading05___GkO4Q",productiveHeading06:"esm-drugorder__medications-details-table__productiveHeading06___3ghb0",bodyShort01:"esm-drugorder__medications-details-table__bodyShort01___2Dk9p",bodyShort02:"esm-drugorder__medications-details-table__bodyShort02___1lAn0",bodyLong01:"esm-drugorder__medications-details-table__bodyLong01___3HoS-",bodyLong02:"esm-drugorder__medications-details-table__bodyLong02___2UfwL",label01:"esm-drugorder__medications-details-table__label01___sSG0u",clipTextWithEllipsis:"esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3"},e.exports=t},63:function(e,t,r){"use strict";var i=r(5),o=r.n(i),n=r(157),a=r(76),d=r(80),s=r(81),_=r(166),u=r(74),l=r(77),g=r(79),c=r(78),m=r(75),p=r(45),b=r(163),f=r(160),h=r(154);function y(e,t){if(!e||!t)return"";const r=e.search(/\D/),i=e.substring(0,r),o=e.search(/\//);let n,a=e.substring(r);if(o>=0){a=e.substring(r,o);const d=e.substring(o+1).search(/\D/);n=`${t} ${a} (${t/i*e.substr(o+1,d)} ${e.substring(o+1+d)})`}else n=i*t+" "+a;return n}var v=r(42),w=r.n(v),H=r(7),A=r(153),E=r(62),x=r(57),k=r.n(x);function C(e,t){return null==e&&null==t?0:null==e?-1:null==t?1:e<t?-1:e>t?1:0}var O=r(38),T=r(27),S=r(28);const D=Object(T.connect)("items",S.b)(({title:e,medications:t,showDiscontinueButton:r,showModifyButton:f,showReorderButton:h,showAddNewButton:v,items:x,setItems:T})=>{const{t:S}=Object(H.useTranslation)(),[D,N]=Object(i.useState)(1),[U,B]=Object(i.useState)(10),[j]=Object(O.a)(t,D,U),I=[{key:"startDate",header:S("startDate","Start date"),isSortable:!0,isVisible:!0},{key:"details",header:S("details","Details"),isSortable:!0,isVisible:!0}],W=j.map((e,t)=>{var r,i,n,a,d,s,_;return{id:""+t,details:{sortKey:null===(r=e.drug)||void 0===r?void 0:r.name,content:o.a.createElement("p",{className:k.a.bodyLong01},o.a.createElement("strong",null,Object(E.a)(null===(i=e.drug)||void 0===i?void 0:i.name))," — ",null===(n=e.doseUnits)||void 0===n?void 0:n.display," —"," ",null===(a=e.route)||void 0===a?void 0:a.display,o.a.createElement("br",null),o.a.createElement("span",{className:k.a.label01},S("dose","DOSE").toUpperCase())," ",o.a.createElement("strong",null,y(null===(d=e.drug)||void 0===d?void 0:d.strength,e.dose).toLowerCase())," —"," ",null===(s=e.frequency)||void 0===s?void 0:s.display," —"," ",e.duration?S("medicationDurationAndUnit","for {duration} {durationUnit}",{duration:e.duration,durationUnit:null===(_=e.durationUnits)||void 0===_?void 0:_.display}):S("medicationUndefinedDuration","Indefinite duration"),o.a.createElement("br",null),o.a.createElement("span",{className:k.a.label01},S("refills","REFILLS").toUpperCase())," ",e.numRefills)},startDate:{sortKey:w()(e.dateActivated).toDate(),content:w()(e.dateActivated).format("DD-MMM-YYYY")}}});return o.a.createElement(n.a,{headers:I,rows:W,isSortable:!0,sortRow:(e,t,{sortDirection:r,sortStates:i})=>r===i.DESC?C(t.sortKey,e.sortKey):C(e.sortKey,t.sortKey)},({rows:i,headers:n,getTableProps:y,getHeaderProps:w,getRowProps:H})=>o.a.createElement(a.a,{title:e},v&&o.a.createElement(d.a,null,o.a.createElement(s.a,null,o.a.createElement(_.a,{renderIcon:()=>o.a.createElement(A.a,null)},S("add","Add")))),o.a.createElement(u.a,y(),o.a.createElement(l.a,null,o.a.createElement(g.a,null,n.map(e=>o.a.createElement(c.a,w({header:e,isSortable:e.isSortable}),e.header)),o.a.createElement(c.a,null))),o.a.createElement(m.a,null,i.map((e,i)=>o.a.createElement(g.a,H({row:e}),e.cells.map(e=>{var t,r;return o.a.createElement(p.a,{key:e.id},null!==(t=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==t?t:e.value)}),o.a.createElement(p.a,{className:"bx--table-column-menu"},o.a.createElement(z,{showDiscontinueButton:r,showModifyButton:f,showReorderButton:h,medication:t[i],items:x,setItems:T})))))),o.a.createElement(b.a,{page:D,pageSize:U,pageSizes:[10,20,30,40,50],totalItems:t.length,onChange:({page:e,pageSize:t})=>{N(e),B(t)}})))});function z({showDiscontinueButton:e,showModifyButton:t,showReorderButton:r,medication:n,items:a,setItems:d}){const{t:s}=Object(H.useTranslation)(),_=a.some(e=>e.uuid===n.uuid),u=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,action:"DISCONTINUE",drug:n.drug,dosage:{dosage:y(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,startDate:n.dateActivated,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),l=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:n.uuid,startDate:new Date,action:"REVISE",drug:n.drug,dosage:{dosage:y(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),g=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,startDate:new Date,action:"RENEWED",drug:n.drug,dosage:{dosage:y(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]);return o.a.createElement(f.a,{flipped:!0},e&&o.a.createElement(h.a,{itemText:s("discontinue","Discontinue"),onClick:u,disabled:_}),t&&o.a.createElement(h.a,{itemText:s("modify","Modify"),onClick:l,disabled:_}),r&&o.a.createElement(h.a,{itemText:s("reorder","Reorder"),onClick:g,disabled:_}))}t.a=D}}]);
//# sourceMappingURL=4.openmrs-esm-drugorder-app.js.map