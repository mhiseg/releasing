(window.webpackJsonp_openmrs_esm_drugorder=window.webpackJsonp_openmrs_esm_drugorder||[]).push([[2],{103:function(e,t,r){var i=r(18),o=r(104);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},104:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__order-basket-item__resetPatientChartWidgetContainer___edG2g{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-item__productiveHeading01___2SFom{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-item__productiveHeading02___129r0{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading03___RD5MM{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading04___1lqWt{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading05___3Qql7{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading06___4Hn2U{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-item__bodyShort01___17cu0{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-item__bodyShort02___TnW_M{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-item__bodyLong01___1yabr{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-item__bodyLong02___1Mfxb{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-item__label01___1tu7G,.esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY,.esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU,.esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt,.esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-item__clipTextWithEllipsis___1U0ag{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY{color:#24a148}.esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU{color:#24a148}.esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt{color:#525252}.esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok{color:#525252}.esm-drugorder__order-basket-item__orderErrorText___1wMVJ{color:#da1e28;display:flex;align-items:center}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-item__resetPatientChartWidgetContainer___edG2g",productiveHeading01:"esm-drugorder__order-basket-item__productiveHeading01___2SFom",productiveHeading02:"esm-drugorder__order-basket-item__productiveHeading02___129r0",productiveHeading03:"esm-drugorder__order-basket-item__productiveHeading03___RD5MM",productiveHeading04:"esm-drugorder__order-basket-item__productiveHeading04___1lqWt",productiveHeading05:"esm-drugorder__order-basket-item__productiveHeading05___3Qql7",productiveHeading06:"esm-drugorder__order-basket-item__productiveHeading06___4Hn2U",bodyShort01:"esm-drugorder__order-basket-item__bodyShort01___17cu0",bodyShort02:"esm-drugorder__order-basket-item__bodyShort02___TnW_M",bodyLong01:"esm-drugorder__order-basket-item__bodyLong01___1yabr",bodyLong02:"esm-drugorder__order-basket-item__bodyLong02___1Mfxb",label01:"esm-drugorder__order-basket-item__label01___1tu7G",orderActionNewLabel:"esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY",orderActionRenewLabel:"esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU",orderActionRevisedLabel:"esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt",orderActionDiscontinueLabel:"esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok",clipTextWithEllipsis:"esm-drugorder__order-basket-item__clipTextWithEllipsis___1U0ag",orderErrorText:"esm-drugorder__order-basket-item__orderErrorText___1wMVJ"},e.exports=t},105:function(e,t,r){var i=r(18),o=r(106);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},106:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__order-basket-item-list__resetPatientChartWidgetContainer___DXab3{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-item-list__productiveHeading01___2ZgWF,.esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-item-list__productiveHeading02___aKdGJ{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading03___8XWCS{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading04___3TJxx{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading05___2pmTj{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading06___1A8bj{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-item-list__bodyShort01___2By7c{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-item-list__bodyShort02___Lf_aH{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-item-list__bodyLong01___2j-ur{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-item-list__bodyLong02___1tb0i{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-item-list__label01___1LqUb{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-item-list__clipTextWithEllipsis___BXB_b{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw{color:#525252;margin:1rem 0}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-item-list__resetPatientChartWidgetContainer___DXab3",productiveHeading01:"esm-drugorder__order-basket-item-list__productiveHeading01___2ZgWF",orderCategoryHeading:"esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw",productiveHeading02:"esm-drugorder__order-basket-item-list__productiveHeading02___aKdGJ",productiveHeading03:"esm-drugorder__order-basket-item-list__productiveHeading03___8XWCS",productiveHeading04:"esm-drugorder__order-basket-item-list__productiveHeading04___3TJxx",productiveHeading05:"esm-drugorder__order-basket-item-list__productiveHeading05___2pmTj",productiveHeading06:"esm-drugorder__order-basket-item-list__productiveHeading06___1A8bj",bodyShort01:"esm-drugorder__order-basket-item-list__bodyShort01___2By7c",bodyShort02:"esm-drugorder__order-basket-item-list__bodyShort02___Lf_aH",bodyLong01:"esm-drugorder__order-basket-item-list__bodyLong01___2j-ur",bodyLong02:"esm-drugorder__order-basket-item-list__bodyLong02___1tb0i",label01:"esm-drugorder__order-basket-item-list__label01___1LqUb",clipTextWithEllipsis:"esm-drugorder__order-basket-item-list__clipTextWithEllipsis___BXB_b"},e.exports=t},107:function(e,t,r){var i=r(18),o=r(108);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},108:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__order-basket__resetPatientChartWidgetContainer___2KrGA{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket__productiveHeading01___132oA{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket__productiveHeading02___2U9Zy{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading03___19omV{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading04___1Biit{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading05___AZUdA{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading06___1aiQz{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket__bodyShort01___YkkFr{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket__bodyShort02___1ZmH_{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket__bodyLong01___-rBP1{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket__bodyLong02___3OGK5{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket__label01___2f8Fk{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket__clipTextWithEllipsis___3un9j{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket__orderBasketContainer___27MnW{margin:1rem}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket__resetPatientChartWidgetContainer___2KrGA",productiveHeading01:"esm-drugorder__order-basket__productiveHeading01___132oA",productiveHeading02:"esm-drugorder__order-basket__productiveHeading02___2U9Zy",productiveHeading03:"esm-drugorder__order-basket__productiveHeading03___19omV",productiveHeading04:"esm-drugorder__order-basket__productiveHeading04___1Biit",productiveHeading05:"esm-drugorder__order-basket__productiveHeading05___AZUdA",productiveHeading06:"esm-drugorder__order-basket__productiveHeading06___1aiQz",bodyShort01:"esm-drugorder__order-basket__bodyShort01___YkkFr",bodyShort02:"esm-drugorder__order-basket__bodyShort02___1ZmH_",bodyLong01:"esm-drugorder__order-basket__bodyLong01___-rBP1",bodyLong02:"esm-drugorder__order-basket__bodyLong02___3OGK5",label01:"esm-drugorder__order-basket__label01___2f8Fk",clipTextWithEllipsis:"esm-drugorder__order-basket__clipTextWithEllipsis___3un9j",orderBasketContainer:"esm-drugorder__order-basket__orderBasketContainer___27MnW"},e.exports=t},159:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Te}));var i=r(5),o=r.n(i),n=r(10),a=r(61),d=r(27),s=r(28),_=r(7),l=r(139),c=r(87),u=r.n(c),m=r(89),g=r.n(m),p=r(132),h=r(133),b=r(166),A=r(163),f=r(135),v=r(136),y=r(9),k=r(29),E=r(91);function x(e){return E.filter(t=>t.uuid===e)[0]}var w=r(31),T=r(123);async function C(e,t,r){const i=e.match(/\S+/g),o=await async function(e,t){const r=(await Promise.all(e.map(async e=>(await Object(k.b)(e,t)).data.results))).flatMap(e=>e);return Object(T.a)(r,"uuid")}(i,r);return function(e,t){return t.filter(t=>e.every(e=>D(t.drug.name,e)||D(t.dosageUnit.name,e)||D(t.dosage.dosage,e)||D(t.frequency.name,e)||D(t.route.name,e)))}(i,o.flatMap(e=>[...H(e,t)]))}function*H(e,t){const r=x(e.uuid);if(r)for(const i of r.dosageUnits)for(const o of r.commonDosages)for(const n of r.commonFrequencies)for(const a of r.route)yield{action:"NEW",drug:e,dosage:o,dosageUnit:i,frequency:n,route:a,encounterUuid:t,commonMedicationName:r.name,isFreeTextDosage:!1,patientInstructions:"",asNeeded:!1,asNeededCondition:"",startDate:new Date,duration:null,durationUnit:w.b,pillsDispensed:0,numRefills:0,freeTextDosage:"",indication:""}}function D(e,t){return e.toLowerCase().includes(t.toLowerCase())}var S=r(38);function U({searchTerm:e,encounterUuid:t,setSearchTerm:r,onSearchResultClicked:n}){const{t:a}=Object(_.useTranslation)(),[d,s]=Object(i.useState)([]),[l,c]=Object(i.useState)(1),[u,m]=Object(i.useState)(10),[k]=Object(S.a)(d,l,u);Object(i.useEffect)(()=>{const r=new AbortController;return C(e,t,r).then(s,y.createErrorHandler),()=>r.abort()},[e,t]);const E=(e,t)=>{r(""),s([]),n(e,t)};return o.a.createElement(o.a.Fragment,null,!!e&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("span",{className:g.a.label01},a("searchResultsExactMatchesForTerm",'{count} exact match(es) for "{searchTerm}"',{count:d.length,searchTerm:e})),o.a.createElement(p.a,{onClick:()=>r("")},a("clearSearchResults","Clear Results"))),k.map((e,t)=>{var r;return o.a.createElement(h.a,{key:t,className:g.a.searchResultTile,style:{marginTop:"5px"},handleClick:()=>E(e,!1)},o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement(f.a,{style:{flex:"0 0 auto",marginRight:"20px"}}),o.a.createElement("div",{style:{flex:"1 1 auto"}},o.a.createElement("p",null,o.a.createElement("strong",null,e.drug.concept.display," (",null===(r=e.dosage)||void 0===r?void 0:r.dosage,")"),o.a.createElement("br",null),o.a.createElement("span",{className:g.a.label01},e.dosageUnit.name)," —"," ",o.a.createElement("span",{className:g.a.label01},e.frequency.name)," —"," ",o.a.createElement("span",{className:g.a.label01},e.route.name))),o.a.createElement(b.a,{style:{flex:"0 0 auto"},kind:"ghost",hasIconOnly:!0,renderIcon:()=>o.a.createElement(v.c,null),iconDescription:a("directlyAddToBasket","Immediately add to basket"),onClick:()=>E(e,!0)})))}),d.length>0&&o.a.createElement(A.a,{page:l,pageSize:u,pageSizes:[10,20,30,40,50],totalItems:d.length,onChange:({page:e,pageSize:t})=>{c(e),m(t)}})))}function N({encounterUuid:e,onSearchResultClicked:t}){const{t:r}=Object(_.useTranslation)(),[n,a]=Object(i.useState)("");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:u.a.searchPopupContainer},o.a.createElement(l.a,{value:n,placeHolderText:r("searchFieldPlaceholder",'Search for an order (e.g. "Aspirin")'),labelText:r("searchFieldPlaceholder",'Search for an order (e.g. "Aspirin")'),onChange:e=>{var t,r;return a(null!==(t=null===(r=e.currentTarget)||void 0===r?void 0:r.value)&&void 0!==t?t:"")}}),o.a.createElement("div",{style:{margin:"1rem"}},o.a.createElement(U,{encounterUuid:e,searchTerm:n,setSearchTerm:a,onSearchResultClicked:t}))))}var O=r(155),R=r(156),I=r(151),F=r(140),z=r(167),L=r(141),P=r(142),W=r(143),j=r(144),q=r(145),B=r(146),M=r(158),Y=r(147),G=r(148),K=r(164),Z=r(149),J=r(165),Q=r(161),V=r(96),X=r.n(V),$=r(62);function ee({initialOrderBasketItem:e,durationUnits:t,onSign:r,onCancel:n}){var a;const{t:d}=Object(_.useTranslation)(),[s,l]=Object(i.useState)(e),c=x(s.drug.uuid);return o.a.createElement(o.a.Fragment,null,o.a.createElement(F.a,{"aria-label":"",className:X.a.medicationDetailsHeader},o.a.createElement(z.a,{prefix:""},s.isFreeTextDosage?o.a.createElement("strong",null,Object($.a)(s.commonMedicationName)):o.a.createElement(o.a.Fragment,null,o.a.createElement("span",null,o.a.createElement("strong",null,Object($.a)(s.commonMedicationName))," — ",s.route.name," ","— ",s.dosageUnit.name," —"," ",o.a.createElement("span",{className:X.a.label01},d("dose","Dose").toUpperCase())," —"," ",o.a.createElement("strong",null,s.dosage.dosage))))),o.a.createElement(L.a,{className:X.a.orderForm,onSubmit:()=>r(s)},o.a.createElement("h2",{className:X.a.productiveHeading03},d("orderForm","Order Form")),o.a.createElement(P.a,{style:{padding:0}},o.a.createElement(W.a,null,o.a.createElement(j.a,null,o.a.createElement("h3",{className:X.a.productiveHeading02},d("dosageInstructions","1. Dosage Instructions"))),o.a.createElement(j.a,{className:X.a.pullColumnContentRight},o.a.createElement(q.a,{id:"freeTextDosageToggle","aria-label":d("freeTextDosage","Free Text Dosage"),labelText:d("freeTextDosage","Free Text Dosage"),toggled:s.isFreeTextDosage,onChange:()=>{},onToggle:e=>l({...s,isFreeTextDosage:e})}))),s.isFreeTextDosage?o.a.createElement(W.a,{style:{marginTop:"0.5rem"}},o.a.createElement(j.a,{md:8},o.a.createElement(B.a,{labelText:d("freeTextDosage","Free Text Dosage"),placeholder:d("freeTextDosage","Free Text Dosage"),value:s.freeTextDosage,maxLength:65535,onChange:e=>l({...s,freeTextDosage:e.target.value})}))):o.a.createElement(o.a.Fragment,null,o.a.createElement(W.a,{style:{marginTop:"1rem"}},o.a.createElement(j.a,{md:4},o.a.createElement(M.a,{id:"doseSelection",items:c.commonDosages.map(e=>({id:e.dosage,text:e.dosage})),selectedItem:{id:s.dosage.dosage,text:s.dosage.dosage},placeholder:d("editDoseComboBoxPlaceholder","Dose"),titleText:d("editDoseComboBoxTitle","Enter Dose"),itemToString:e=>null==e?void 0:e.text,invalid:!s.dosage&&!s.isFreeTextDosage,invalidText:d("validationNoItemSelected","Please select one of the available items."),onChange:({selectedItem:t})=>{l({...s,dosage:(null==t?void 0:t.id)?c.commonDosages.find(e=>e.dosage===t.id):e.dosage})}})),o.a.createElement(j.a,{md:4},o.a.createElement(M.a,{id:"editFrequency",items:c.commonFrequencies.map(e=>({id:e.conceptUuid,text:e.name})),selectedItem:{id:s.frequency.conceptUuid,text:s.frequency.name},placeholder:d("editFrequencyComboBoxPlaceholder","Frequency"),titleText:d("editFrequencyComboBoxTitle","Enter Frequency"),itemToString:e=>null==e?void 0:e.text,invalid:!s.frequency&&!s.isFreeTextDosage,invalidText:d("validationNoItemSelected","Please select one of the available items."),onChange:({selectedItem:t})=>{l({...s,frequency:(null==t?void 0:t.id)?c.commonFrequencies.find(e=>e.conceptUuid===t.id):e.frequency})}}))),o.a.createElement(W.a,{style:{marginTop:"1rem"}},o.a.createElement(j.a,{md:4},o.a.createElement(M.a,{id:"editRoute",items:c.route.map(e=>({id:e.conceptUuid,text:e.name})),selectedItem:{id:s.route.conceptUuid,text:s.route.name},placeholder:d("editRouteComboBoxPlaceholder","Route"),titleText:d("editRouteComboBoxTitle","Enter Route"),itemToString:e=>null==e?void 0:e.text,invalid:!s.route&&!s.isFreeTextDosage,invalidText:d("validationNoItemSelected","Please select one of the available items."),onChange:({selectedItem:t})=>{l({...s,route:(null==t?void 0:t.id)?c.route.find(e=>e.conceptUuid===t.id):e.route})}}))),o.a.createElement(W.a,{style:{marginTop:"1rem"}},o.a.createElement(j.a,{className:X.a.fullHeightTextAreaContainer},o.a.createElement(B.a,{labelText:d("patientInstructions","Patient Instructions"),placeholder:d("patientInstructionsPlaceholder",'Additional dosing instructions (e.g. "Take after eating")'),maxLength:65535,value:s.patientInstructions,onChange:e=>l({...s,patientInstructions:e.target.value})})),o.a.createElement(j.a,null,o.a.createElement(Y.a,{legendText:d("prn","P.R.N.")},o.a.createElement(G.a,{id:"prn",labelText:d("takeAsNeeded","Take As Needed"),checked:s.asNeeded,onChange:e=>l({...s,asNeeded:e})})),o.a.createElement("div",{className:X.a.fullHeightTextAreaContainer,style:s.asNeeded?{}:{visibility:"hidden"}},o.a.createElement(B.a,{labelText:d("prnReason","P.R.N. Reason"),placeholder:d("prnReasonPlaceholder","Reason to take medicine"),rows:3,maxLength:255,value:s.asNeededCondition,onChange:e=>l({...s,asNeededCondition:e.target.value})}))))),o.a.createElement(W.a,{style:{marginTop:"2rem"}},o.a.createElement(j.a,{md:8},o.a.createElement("h3",{className:X.a.productiveHeading02},d("prescriptionDuration","2. Prescription Duration")))),o.a.createElement(W.a,{style:{marginTop:"1rem"}},o.a.createElement(j.a,{md:4,className:X.a.fullWidthDatePickerContainer},o.a.createElement(K.a,{datePickerType:"single",maxDate:new Date,value:[s.startDate],onChange:([e])=>l({...s,startDate:e})},o.a.createElement(Z.a,{id:"startDatePicker",placeholder:"mm/dd/yyyy",labelText:d("startDate","Start Date")}))),o.a.createElement(j.a,{md:2},o.a.createElement(J.a,{id:"durationInput",label:d("duration","Duration"),min:1,value:null!==(a=s.duration)&&void 0!==a?a:"",allowEmpty:!0,helperText:d("noDurationHint","An empty field indicates an indefinite duration."),onChange:e=>{const t=""===e.imaginaryTarget.value?null:+e.imaginaryTarget.value;l({...s,duration:t})}})),o.a.createElement(j.a,{md:2},o.a.createElement(Y.a,{legendText:d("durationUnit","Duration Unit")},o.a.createElement(M.a,{id:"durationUnitPlaceholder",selectedItem:{id:s.durationUnit.uuid,text:s.durationUnit.display},items:t.map(e=>({id:e.uuid,text:e.display})),itemToString:e=>null==e?void 0:e.text,placeholder:d("durationUnitPlaceholder","Duration Unit"),onChange:({selectedItem:e})=>l(e?{...s,durationUnit:{uuid:e.id,display:e.text}}:{...s,durationUnit:w.b})})))),o.a.createElement(W.a,null,o.a.createElement(j.a,{md:8},o.a.createElement("h3",{className:X.a.productiveHeading02},d("dispensingInformation","3. Dispensing Information")))),o.a.createElement(W.a,{style:{marginTop:"1rem"}},o.a.createElement(j.a,{md:2},o.a.createElement(Y.a,{legendText:d("quantityDispensed","Quantity Dispensed")},o.a.createElement(J.a,{id:"quantityDispensed",helperText:d("pillsDispensed","Pills dispensed"),value:s.pillsDispensed,min:0,onChange:e=>{l({...s,pillsDispensed:+e.imaginaryTarget.value})}}))),o.a.createElement(j.a,{md:2},o.a.createElement(Y.a,{legendText:d("prescriptionRefills","Prescription Refills")},o.a.createElement(J.a,{id:"prescriptionRefills",min:0,value:s.numRefills,onChange:e=>l({...s,numRefills:+e.imaginaryTarget.value})})))),o.a.createElement(W.a,null,o.a.createElement(j.a,{md:8},o.a.createElement(Q.a,{id:"indication",labelText:d("indication","Indication"),placeholder:d("indicationPlaceholder",'e.g. "Hypertension"'),value:s.indication,onChange:e=>l({...s,indication:e.target.value}),maxLength:150})))),o.a.createElement(I.a,{style:{marginTop:"2rem"}},o.a.createElement(b.a,{kind:"secondary",onClick:n},d("cancel","Cancel")),o.a.createElement(b.a,{kind:"primary",type:"submit"},d("save","Save")))))}var te=r(42),re=r.n(te),ie=r(102),oe=r.n(ie);function ne(e,t=!1){let r=re()(e);return t&&(r=r.utc()),r.format("YYYY-MM-DDTHH:mm:ss.SSSZZ")}re.a.extend(oe.a);const ae="6f0c9a92-6f24-11e3-af88-005056821db0",de="e89cae4a-3cb3-40a2-b964-8b20dda2c985";async function se(e,t,r){const i=function(e,t){return e.map(e=>{if("NEW"===e.action||"RENEWED"===e.action)return{action:"NEW",patient:t,type:"drugorder",careSetting:ae,orderer:de,encounter:e.encounterUuid,drug:e.drug.uuid,dose:e.dosage.numberOfPills,doseUnits:e.dosageUnit.uuid,route:e.route.conceptUuid,frequency:e.frequency.conceptUuid,asNeeded:e.asNeeded,asNeededCondition:e.asNeededCondition,numRefills:e.numRefills,quantity:e.pillsDispensed,quantityUnits:"162396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",duration:e.duration,durationUnits:e.durationUnit.uuid,dosingType:e.isFreeTextDosage?"org.openmrs.FreeTextDosingInstructions":"org.openmrs.SimpleDosingInstructions",dosingInstructions:e.isFreeTextDosage?e.freeTextDosage:e.patientInstructions,concept:e.drug.concept.uuid,orderReasonNonCoded:e.indication,dateActivated:ne(e.startDate)};if("REVISE"===e.action)return{action:"REVISE",patient:t,type:"drugorder",previousOrder:e.previousOrder,careSetting:ae,orderer:de,encounter:e.encounterUuid,drug:e.drug.uuid,dose:e.dosage.numberOfPills,doseUnits:e.dosageUnit.uuid,route:e.route.conceptUuid,frequency:e.frequency.conceptUuid,asNeeded:e.asNeeded,asNeededCondition:e.asNeededCondition,numRefills:e.numRefills,quantity:e.pillsDispensed,quantityUnits:"162396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",duration:e.duration,durationUnits:e.durationUnit.uuid,dosingType:e.isFreeTextDosage?"org.openmrs.FreeTextDosingInstructions":"org.openmrs.SimpleDosingInstructions",dosingInstructions:e.isFreeTextDosage?e.freeTextDosage:e.patientInstructions,concept:e.drug.concept.uuid,orderReasonNonCoded:e.indication,dateActivated:ne(e.startDate)};if("DISCONTINUE"===e.action)return{action:"DISCONTINUE",type:"drugorder",previousOrder:e.previousOrder,patient:t,careSetting:ae,encounter:e.encounterUuid,orderer:de,concept:e.drug.concept.uuid,drug:e.drug.uuid,orderReasonNonCoded:null};throw new Error(`Unknown order type ${e.action}. This is a development error.`)})}(e,t),o=[];for(let t=0;t<i.length;t++){const n=i[t],a=e[t];await Object(k.e)(n,r).catch(e=>{o.push({...a,orderError:e})})}return o}var _e=r(103),le=r.n(_e),ce=r(137),ue=r(152);function me({orderBasketItem:e,onClick:t,onRemoveClick:r}){var n,a,d;const{t:s}=Object(_.useTranslation)(),l=Object(i.useRef)(!0),c=o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"}},o.a.createElement("p",{className:le.a.clipTextWithEllipsis},o.a.createElement(ge,{orderBasketItem:e}),o.a.createElement("br",null),e.isFreeTextDosage?o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,e.drug.concept.display)," — ",e.freeTextDosage):o.a.createElement(o.a.Fragment,null,o.a.createElement("strong",null,e.drug.concept.display)," —"," ",o.a.createElement("strong",null,e.dosage.dosage),"— ",e.dosageUnit.name," — ",e.route.name," —"," ",e.frequency.name),o.a.createElement("br",null),o.a.createElement("span",{className:le.a.label01},s("refills","Refills").toUpperCase())," ",e.numRefills," ","— ",o.a.createElement("span",{className:le.a.label01},s("quantity","Quantity").toUpperCase())," ",e.pillsDispensed," —"," ",o.a.createElement("span",{className:le.a.label01},s("indication","Indication").toUpperCase())," ",e.indication?e.indication:o.a.createElement("i",null,s("none","None")),!!e.orderError&&o.a.createElement(o.a.Fragment,null,o.a.createElement("br",null),o.a.createElement("span",{className:le.a.orderErrorText},o.a.createElement(ce.c,null),"   ",o.a.createElement("span",{className:le.a.label01},s("error","Error").toUpperCase()),"  ",null!==(n=null===(a=e.orderError.responseBody)||void 0===a||null===(d=a.error)||void 0===d?void 0:d.message)&&void 0!==n?n:e.orderError.message))),o.a.createElement(b.a,{style:{flex:"0 0 auto"},kind:"ghost",hasIconOnly:!0,renderIcon:()=>o.a.createElement(ue.a,null),iconDescription:s("removeFromBasket","Remove from basket"),onClick:()=>{l.current=!1,r()}}));return"DISCONTINUE"===e.action?o.a.createElement(h.b,null,c):o.a.createElement(h.a,{handleClick:()=>l.current&&t()},c)}function ge({orderBasketItem:e}){const{t:t}=Object(_.useTranslation)();switch(e.action){case"NEW":return o.a.createElement("span",{className:le.a.orderActionNewLabel},t("orderActionNew","New"));case"RENEWED":return o.a.createElement("span",{className:le.a.orderActionRenewLabel},t("orderActionRenewed","Renew"));case"REVISE":return o.a.createElement("span",{className:le.a.orderActionRevisedLabel},t("orderActionRevised","Modify"));case"DISCONTINUE":return o.a.createElement("span",{className:le.a.orderActionDiscontinueLabel},t("orderActionDiscontinue","Discontinue"));default:return o.a.createElement(o.a.Fragment,null)}}var pe=r(105),he=r.n(pe);function be({orderBasketItems:e,onItemClicked:t,onItemRemoveClicked:r}){const{t:i}=Object(_.useTranslation)(),n=e.filter(e=>"NEW"===e.action),a=e.filter(e=>"RENEWED"===e.action),d=e.filter(e=>"REVISE"===e.action),s=e.filter(e=>"DISCONTINUE"===e.action);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:he.a.productiveHeading02},i("orderBasket","Order Basket")),0===e.length&&o.a.createElement("p",null,i("emptyMedicationOrderBasket","Your basket is currently empty.")),n.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:he.a.orderCategoryHeading},i("newOrders","{count} new order(s)",{count:n.length})),n.map((e,i)=>o.a.createElement(me,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))),a.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:he.a.orderCategoryHeading},i("renewedOrders","{count} order(s) being renewed (continued)",{count:a.length})),a.map((e,i)=>o.a.createElement(me,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))),d.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:he.a.orderCategoryHeading},i("revisedOrders","{count} order(s) being modified (revised)",{count:d.length})),d.map((e,i)=>o.a.createElement(me,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))),s.length>0&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:he.a.orderCategoryHeading},i("discontinuedOrders","{count} discontinued order(s)",{count:s.length})),s.map((e,i)=>o.a.createElement(me,{key:i,orderBasketItem:e,onClick:()=>t(e),onRemoveClick:()=>r(e)}))))}var Ae=r(107),fe=r.n(Ae),ve=r(17),ye=r(56),ke=r(63);var Ee=Object(d.connect)("items",s.b)(({patientUuid:e,items:t,closeWorkspace:r,setItems:n})=>{const{t:a}=Object(_.useTranslation)(),[d,s]=Object(i.useState)([]),[l,c]=Object(i.useState)(""),[u,m]=Object(i.useState)(!0),[g,p]=Object(i.useState)(null),[h,A]=Object(i.useState)(!1),[f,v]=Object(i.useState)(null),[E,x]=(Object(ve.f)(),Object(ye.a)(e,"ACTIVE"));Object(i.useEffect)(()=>{const t=new AbortController,r=Object(k.c)(t).then(e=>s(e.data.answers),y.createErrorHandler),i=Object(k.d)(e,t).then(({data:e})=>c(e.results[0].uuid),y.createErrorHandler);return Promise.all([r,i]).finally(()=>m(!1)),()=>t.abort()},[e]);const w=(e,t)=>{p(e),v(e=>e=>{A(!1),p(null),t(e)}),A(!0)},T=e=>{w(e,e=>n([...t,e]))};return o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{active:u,withOverlay:!0}),h?o.a.createElement(ee,{durationUnits:d,initialOrderBasketItem:g,onSign:f,onCancel:()=>A(!1)}):o.a.createElement(o.a.Fragment,null,o.a.createElement(N,{encounterUuid:l,onSearchResultClicked:(e,r)=>{r?n([...t,e]):T(e)}}),o.a.createElement("div",{className:fe.a.orderBasketContainer},o.a.createElement(be,{orderBasketItems:t,onItemClicked:e=>(e=>{const r=t[e];w(r,r=>n(()=>{const i=[...t];return i[e]=r,i}))})(t.indexOf(e)),onItemRemoveClicked:e=>{const r=[...t];r.splice(t.indexOf(e),1),n(r)}}),E?o.a.createElement(ke.a,{title:a("activeMedications","Active Medications"),medications:E,showDiscontinueButton:!0,showModifyButton:!0,showReorderButton:!1,showAddNewButton:!1}):o.a.createElement(R.a,null),o.a.createElement(I.a,{style:{marginTop:"2rem"}},o.a.createElement(b.a,{kind:"secondary",onClick:()=>{n([]),r()}},a("cancel","Cancel")),o.a.createElement(b.a,{kind:"primary",onClick:()=>{const i=new AbortController;return se(t,e,i).then(e=>{n(e),x(),0==e.length&&r()}),()=>i.abort()}},a("save","Save"))))))}),xe=r(11),we=r(0);function Te({patientUuid:e,closeWorkspace:t}){var r,i;const[,,n]=Object(we.useCurrentPatient)();return e=null!==(r=e)&&void 0!==r?r:n,t=null!==(i=t)&&void 0!==i?i:()=>Object(xe.switchTo)("link",""),o.a.createElement(a.a,{basename:window.getOpenmrsSpaBase()},o.a.createElement(d.Provider,{store:s.a},o.a.createElement(Ee,{patientUuid:e,closeWorkspace:t})))}Object(n.defineConfigSchema)("@openmrs/esm-drugorder-app",{})},28:function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var i=r(8);const o=Object(i.createGlobalStore)("drug-order-basket",{items:[]}),n={setItems:(e,t)=>({items:"function"==typeof t?t():t})}},29:function(e,t,r){"use strict";r.d(t,"d",(function(){return n})),r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return d})),r.d(t,"e",(function(){return s})),r.d(t,"a",(function(){return _}));var i=r(8),o=r(31);function n(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/encounter?patient=${e}&order=desc&limit=1&v=custom:(uuid)`,{signal:t.signal})}function a(e,t){return Object(i.openmrsFetch)(`/ws/rest/v1/drug?q=${e}&v=custom:(uuid,name,strength,dosageForm:(display,uuid),concept)`,{signal:null==t?void 0:t.signal})}function d(e){return Object(i.openmrsFetch)("/ws/rest/v1/concept/1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA?v=custom:(answers:(uuid,display))",e)}function s(e,t){return Object(i.openmrsFetch)("/ws/rest/v1/order",{method:"POST",signal:null==t?void 0:t.signal,headers:{"Content-Type":"application/json"},body:e})}async function _(e,t,r){const{data:n}=await Object(i.openmrsFetch)(`/ws/rest/v1/order?patient=${e}&careSetting=${o.a}&status=${t}&v=custom:(uuid,dosingType,orderNumber,accessionNumber,patient:ref,action,careSetting:ref,previousOrder:ref,dateActivated,scheduledDate,dateStopped,autoExpireDate,orderType:ref,encounter:ref,orderer:ref,orderReason,orderReasonNonCoded,orderType,urgency,instructions,commentToFulfiller,drug:(uuid,name,strength,dosageForm:(display,uuid),concept),dose,doseUnits:ref,frequency:ref,asNeeded,asNeededCondition,quantity,quantityUnits:ref,numRefills,dosingInstructions,duration,durationUnits:ref,route:ref,brandName,dispenseAsWritten)`,{signal:null==r?void 0:r.signal});return n.results.filter(e=>"Drug Order"===e.orderType.display)}},31:function(e,t,r){"use strict";r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return o}));const i="6f0c9a92-6f24-11e3-af88-005056821db0",o={uuid:"1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",display:"Days"}},38:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var i=r(83);function o(e,t,r){var o;const n=Object(i.a)(e,r);return[null!==(o=n[t-1])&&void 0!==o?o:[],n]}},56:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var i=r(5),o=r(9),n=r(29);function a(e,t){const[r,a]=Object(i.useState)(null),d=r=>Object(n.a)(e,t,r).then(e=>{a(e)},o.createErrorHandler);return Object(i.useEffect)(()=>{const e=new AbortController;return d(e),()=>e.abort()},[e]),[r,d]}},57:function(e,t,r){var i=r(18),o=r(58);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},58:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medications-details-table__productiveHeading01___Mm5iC{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medications-details-table__productiveHeading02___1KYSl{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading03___3i6fP{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading04___2ow0_{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading05___GkO4Q{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading06___3ghb0{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medications-details-table__bodyShort01___2Dk9p{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyShort02___1lAn0{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medications-details-table__bodyLong01___3HoS-{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyLong02___2UfwL{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medications-details-table__label01___sSG0u{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk",productiveHeading01:"esm-drugorder__medications-details-table__productiveHeading01___Mm5iC",productiveHeading02:"esm-drugorder__medications-details-table__productiveHeading02___1KYSl",productiveHeading03:"esm-drugorder__medications-details-table__productiveHeading03___3i6fP",productiveHeading04:"esm-drugorder__medications-details-table__productiveHeading04___2ow0_",productiveHeading05:"esm-drugorder__medications-details-table__productiveHeading05___GkO4Q",productiveHeading06:"esm-drugorder__medications-details-table__productiveHeading06___3ghb0",bodyShort01:"esm-drugorder__medications-details-table__bodyShort01___2Dk9p",bodyShort02:"esm-drugorder__medications-details-table__bodyShort02___1lAn0",bodyLong01:"esm-drugorder__medications-details-table__bodyLong01___3HoS-",bodyLong02:"esm-drugorder__medications-details-table__bodyLong02___2UfwL",label01:"esm-drugorder__medications-details-table__label01___sSG0u",clipTextWithEllipsis:"esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3"},e.exports=t},63:function(e,t,r){"use strict";var i=r(5),o=r.n(i),n=r(157),a=r(76),d=r(80),s=r(81),_=r(166),l=r(74),c=r(77),u=r(79),m=r(78),g=r(75),p=r(45),h=r(163),b=r(160),A=r(154);function f(e,t){if(!e||!t)return"";const r=e.search(/\D/),i=e.substring(0,r),o=e.search(/\//);let n,a=e.substring(r);if(o>=0){a=e.substring(r,o);const d=e.substring(o+1).search(/\D/);n=`${t} ${a} (${t/i*e.substr(o+1,d)} ${e.substring(o+1+d)})`}else n=i*t+" "+a;return n}var v=r(42),y=r.n(v),k=r(7),E=r(153),x=r(62),w=r(57),T=r.n(w);function C(e,t){return null==e&&null==t?0:null==e?-1:null==t?1:e<t?-1:e>t?1:0}var H=r(38),D=r(27),S=r(28);const U=Object(D.connect)("items",S.b)(({title:e,medications:t,showDiscontinueButton:r,showModifyButton:b,showReorderButton:A,showAddNewButton:v,items:w,setItems:D})=>{const{t:S}=Object(k.useTranslation)(),[U,O]=Object(i.useState)(1),[R,I]=Object(i.useState)(10),[F]=Object(H.a)(t,U,R),z=[{key:"startDate",header:S("startDate","Start date"),isSortable:!0,isVisible:!0},{key:"details",header:S("details","Details"),isSortable:!0,isVisible:!0}],L=F.map((e,t)=>{var r,i,n,a,d,s,_;return{id:""+t,details:{sortKey:null===(r=e.drug)||void 0===r?void 0:r.name,content:o.a.createElement("p",{className:T.a.bodyLong01},o.a.createElement("strong",null,Object(x.a)(null===(i=e.drug)||void 0===i?void 0:i.name))," — ",null===(n=e.doseUnits)||void 0===n?void 0:n.display," —"," ",null===(a=e.route)||void 0===a?void 0:a.display,o.a.createElement("br",null),o.a.createElement("span",{className:T.a.label01},S("dose","DOSE").toUpperCase())," ",o.a.createElement("strong",null,f(null===(d=e.drug)||void 0===d?void 0:d.strength,e.dose).toLowerCase())," —"," ",null===(s=e.frequency)||void 0===s?void 0:s.display," —"," ",e.duration?S("medicationDurationAndUnit","for {duration} {durationUnit}",{duration:e.duration,durationUnit:null===(_=e.durationUnits)||void 0===_?void 0:_.display}):S("medicationUndefinedDuration","Indefinite duration"),o.a.createElement("br",null),o.a.createElement("span",{className:T.a.label01},S("refills","REFILLS").toUpperCase())," ",e.numRefills)},startDate:{sortKey:y()(e.dateActivated).toDate(),content:y()(e.dateActivated).format("DD-MMM-YYYY")}}});return o.a.createElement(n.a,{headers:z,rows:L,isSortable:!0,sortRow:(e,t,{sortDirection:r,sortStates:i})=>r===i.DESC?C(t.sortKey,e.sortKey):C(e.sortKey,t.sortKey)},({rows:i,headers:n,getTableProps:f,getHeaderProps:y,getRowProps:k})=>o.a.createElement(a.a,{title:e},v&&o.a.createElement(d.a,null,o.a.createElement(s.a,null,o.a.createElement(_.a,{renderIcon:()=>o.a.createElement(E.a,null)},S("add","Add")))),o.a.createElement(l.a,f(),o.a.createElement(c.a,null,o.a.createElement(u.a,null,n.map(e=>o.a.createElement(m.a,y({header:e,isSortable:e.isSortable}),e.header)),o.a.createElement(m.a,null))),o.a.createElement(g.a,null,i.map((e,i)=>o.a.createElement(u.a,k({row:e}),e.cells.map(e=>{var t,r;return o.a.createElement(p.a,{key:e.id},null!==(t=null===(r=e.value)||void 0===r?void 0:r.content)&&void 0!==t?t:e.value)}),o.a.createElement(p.a,{className:"bx--table-column-menu"},o.a.createElement(N,{showDiscontinueButton:r,showModifyButton:b,showReorderButton:A,medication:t[i],items:w,setItems:D})))))),o.a.createElement(h.a,{page:U,pageSize:R,pageSizes:[10,20,30,40,50],totalItems:t.length,onChange:({page:e,pageSize:t})=>{O(e),I(t)}})))});function N({showDiscontinueButton:e,showModifyButton:t,showReorderButton:r,medication:n,items:a,setItems:d}){const{t:s}=Object(k.useTranslation)(),_=a.some(e=>e.uuid===n.uuid),l=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,action:"DISCONTINUE",drug:n.drug,dosage:{dosage:f(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,startDate:n.dateActivated,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),c=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:n.uuid,startDate:new Date,action:"REVISE",drug:n.drug,dosage:{dosage:f(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]),u=Object(i.useCallback)(()=>{d([...a,{uuid:n.uuid,previousOrder:null,startDate:new Date,action:"RENEWED",drug:n.drug,dosage:{dosage:f(n.drug.strength,n.dose),numberOfPills:n.dose},dosageUnit:{uuid:n.doseUnits.uuid,name:n.doseUnits.display},frequency:{conceptUuid:n.frequency.uuid,name:n.frequency.display},route:{conceptUuid:n.route.uuid,name:n.route.display},encounterUuid:n.encounter.uuid,commonMedicationName:n.drug.name,isFreeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType,freeTextDosage:"org.openmrs.FreeTextDosingInstructions"===n.dosingType?n.dosingInstructions:"",patientInstructions:"org.openmrs.FreeTextDosingInstructions"!==n.dosingType?n.dosingInstructions:"",asNeeded:n.asNeeded,asNeededCondition:n.asNeededCondition,duration:n.duration,durationUnit:{uuid:n.durationUnits.uuid,display:n.durationUnits.display},pillsDispensed:n.quantity,numRefills:n.numRefills,indication:n.orderReasonNonCoded}])},[a,d,n]);return o.a.createElement(b.a,{flipped:!0},e&&o.a.createElement(A.a,{itemText:s("discontinue","Discontinue"),onClick:l,disabled:_}),t&&o.a.createElement(A.a,{itemText:s("modify","Modify"),onClick:c,disabled:_}),r&&o.a.createElement(A.a,{itemText:s("reorder","Reorder"),onClick:u,disabled:_}))}t.a=U},87:function(e,t,r){var i=r(18),o=r(88);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},88:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__order-basket-search__resetPatientChartWidgetContainer___3sVK_{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-search__productiveHeading01___1GbXW{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-search__productiveHeading02___2mTMw{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading03___R2QGI{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading04___2TX_7{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading05___2UZFz{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading06___3sTeu{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-search__bodyShort01___2RKt-{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-search__bodyShort02___2c2Kw{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-search__bodyLong01___1nC1z{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-search__bodyLong02___3PL5H{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-search__label01___1SbNo{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-search__clipTextWithEllipsis___2I3y3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-search__searchPopupContainer___1kjRc{position:relative}.esm-drugorder__order-basket-search__searchPopup___3UsrR{margin:0;padding:0;min-height:0;position:absolute;width:100%;box-shadow:0 2px 6px 0 rgba(0,0,0,0.3);z-index:1}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-search__resetPatientChartWidgetContainer___3sVK_",productiveHeading01:"esm-drugorder__order-basket-search__productiveHeading01___1GbXW",productiveHeading02:"esm-drugorder__order-basket-search__productiveHeading02___2mTMw",productiveHeading03:"esm-drugorder__order-basket-search__productiveHeading03___R2QGI",productiveHeading04:"esm-drugorder__order-basket-search__productiveHeading04___2TX_7",productiveHeading05:"esm-drugorder__order-basket-search__productiveHeading05___2UZFz",productiveHeading06:"esm-drugorder__order-basket-search__productiveHeading06___3sTeu",bodyShort01:"esm-drugorder__order-basket-search__bodyShort01___2RKt-",bodyShort02:"esm-drugorder__order-basket-search__bodyShort02___2c2Kw",bodyLong01:"esm-drugorder__order-basket-search__bodyLong01___1nC1z",bodyLong02:"esm-drugorder__order-basket-search__bodyLong02___3PL5H",label01:"esm-drugorder__order-basket-search__label01___1SbNo",clipTextWithEllipsis:"esm-drugorder__order-basket-search__clipTextWithEllipsis___2I3y3",searchPopupContainer:"esm-drugorder__order-basket-search__searchPopupContainer___1kjRc",searchPopup:"esm-drugorder__order-basket-search__searchPopup___3UsrR"},e.exports=t},89:function(e,t,r){var i=r(18),o=r(90);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},90:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__order-basket-search-results__resetPatientChartWidgetContainer___nJSS7{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-search-results__productiveHeading01___1zlg_{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-search-results__productiveHeading02___3ofT4{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading03____SouU{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading04___3XUdN{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading05___2Y1J9{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading06___2Da7U{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-search-results__bodyShort01___ePOYj{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-search-results__bodyShort02___1WFki{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-search-results__bodyLong01___1u6yH{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-search-results__bodyLong02___2Ei9R{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-search-results__label01___1yrua{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-search-results__clipTextWithEllipsis___1B68G{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-search-results__searchResultTile___3ED0C{border-left:2px solid #0f62fe}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__order-basket-search-results__resetPatientChartWidgetContainer___nJSS7",productiveHeading01:"esm-drugorder__order-basket-search-results__productiveHeading01___1zlg_",productiveHeading02:"esm-drugorder__order-basket-search-results__productiveHeading02___3ofT4",productiveHeading03:"esm-drugorder__order-basket-search-results__productiveHeading03____SouU",productiveHeading04:"esm-drugorder__order-basket-search-results__productiveHeading04___3XUdN",productiveHeading05:"esm-drugorder__order-basket-search-results__productiveHeading05___2Y1J9",productiveHeading06:"esm-drugorder__order-basket-search-results__productiveHeading06___2Da7U",bodyShort01:"esm-drugorder__order-basket-search-results__bodyShort01___ePOYj",bodyShort02:"esm-drugorder__order-basket-search-results__bodyShort02___1WFki",bodyLong01:"esm-drugorder__order-basket-search-results__bodyLong01___1u6yH",bodyLong02:"esm-drugorder__order-basket-search-results__bodyLong02___2Ei9R",label01:"esm-drugorder__order-basket-search-results__label01___1yrua",clipTextWithEllipsis:"esm-drugorder__order-basket-search-results__clipTextWithEllipsis___1B68G",searchResultTile:"esm-drugorder__order-basket-search-results__searchResultTile___3ED0C"},e.exports=t},91:function(e){e.exports=JSON.parse('[{"name":"Aspirin","uuid":"18f43c99-2329-426e-97b5-c3356e6afe54","strength":"81mg","dosageUnits":[{"uuid":"1513AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Tablet","selected":true},{"uuid":"1608AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Capsule"}],"route":[{"name":"Oral","conceptUuid":"160240AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true}],"commonFrequencies":[{"name":"Once daily","conceptUuid":"160862AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true},{"name":"Twice daily","conceptUuid":"160858AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}],"commonDosages":[{"dosage":"81 mg","numberOfPills":1},{"dosage":"162 mg","numberOfPills":2},{"dosage":"243 mg","numberOfPills":3,"selected":true}]},{"name":"Sulfadoxine","uuid":"fc92c351-8a85-41b9-95bf-a7dfea46c9cd","strength":"500mg","dosageUnits":[{"uuid":"1513AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Tablet","selected":true},{"uuid":"1608AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","name":"Capsule"}],"route":[{"name":"Oral","conceptUuid":"160240AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true}],"commonFrequencies":[{"name":"Once daily","conceptUuid":"160862AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA","selected":true},{"name":"Twice daily","conceptUuid":"160858AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"}],"commonDosages":[{"dosage":"500 mg","numberOfPills":1},{"dosage":"1000 mg","numberOfPills":2},{"dosage":"1500 mg","numberOfPills":3,"selected":true}]}]')},96:function(e,t,r){var i=r(18),o=r(97);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var n={insert:"head",singleton:!1};i(o,n);e.exports=o.locals||{}},97:function(e,t,r){(t=r(19)(!1)).push([e.i,".esm-drugorder__medication-order-form__resetPatientChartWidgetContainer___13mY5{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medication-order-form__productiveHeading01___3YAe9{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medication-order-form__productiveHeading02___2_8Hn{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading03___3Pq5a{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading04___OJcq3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading05___2PHLW{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading06___Gdwdm{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medication-order-form__bodyShort01___10zFF{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medication-order-form__bodyShort02___23fah{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medication-order-form__bodyLong01___3wXMF{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medication-order-form__bodyLong02___sgYEF{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medication-order-form__label01___2Nr1t{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medication-order-form__clipTextWithEllipsis___7RBiD{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__medication-order-form__medicationDetailsHeader___DLG7Q{position:sticky;background-color:#0f62fe;border:0;top:3rem}.esm-drugorder__medication-order-form__orderForm___ZM3_3{margin:1rem}.esm-drugorder__medication-order-form__pullColumnContentRight___2QcFJ>div{float:right}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container .bx--date-picker-input__wrapper{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container .bx--date-picker-input__wrapper .bx--date-picker__input{width:100%}.esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30 .bx--form-item{height:100%}.esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30 .bx--form-item .bx--text-area__wrapper{height:100%}\n",""]),t.locals={resetPatientChartWidgetContainer:"esm-drugorder__medication-order-form__resetPatientChartWidgetContainer___13mY5",productiveHeading01:"esm-drugorder__medication-order-form__productiveHeading01___3YAe9",productiveHeading02:"esm-drugorder__medication-order-form__productiveHeading02___2_8Hn",productiveHeading03:"esm-drugorder__medication-order-form__productiveHeading03___3Pq5a",productiveHeading04:"esm-drugorder__medication-order-form__productiveHeading04___OJcq3",productiveHeading05:"esm-drugorder__medication-order-form__productiveHeading05___2PHLW",productiveHeading06:"esm-drugorder__medication-order-form__productiveHeading06___Gdwdm",bodyShort01:"esm-drugorder__medication-order-form__bodyShort01___10zFF",bodyShort02:"esm-drugorder__medication-order-form__bodyShort02___23fah",bodyLong01:"esm-drugorder__medication-order-form__bodyLong01___3wXMF",bodyLong02:"esm-drugorder__medication-order-form__bodyLong02___sgYEF",label01:"esm-drugorder__medication-order-form__label01___2Nr1t",clipTextWithEllipsis:"esm-drugorder__medication-order-form__clipTextWithEllipsis___7RBiD",medicationDetailsHeader:"esm-drugorder__medication-order-form__medicationDetailsHeader___DLG7Q",orderForm:"esm-drugorder__medication-order-form__orderForm___ZM3_3",pullColumnContentRight:"esm-drugorder__medication-order-form__pullColumnContentRight___2QcFJ",fullWidthDatePickerContainer:"esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1",fullHeightTextAreaContainer:"esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30"},e.exports=t}}]);
//# sourceMappingURL=2.openmrs-esm-drugorder-app.js.map