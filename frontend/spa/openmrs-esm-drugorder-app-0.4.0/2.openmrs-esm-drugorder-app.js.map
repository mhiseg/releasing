{"version":3,"sources":["webpack:///./src/order-basket/order-basket-item.scss?76ff","webpack:///./src/order-basket/order-basket-item.scss","webpack:///./src/order-basket/order-basket-item-list.scss?2171","webpack:///./src/order-basket/order-basket-item-list.scss","webpack:///./src/order-basket/order-basket.scss?6729","webpack:///./src/order-basket/order-basket.scss","webpack:///./src/api/common-medication.ts","webpack:///./src/order-basket/drug-search.ts","webpack:///./src/order-basket/order-basket-search-results.tsx","webpack:///./src/order-basket/order-basket-search.component.tsx","webpack:///./src/order-basket/medication-order-form.component.tsx","webpack:///./src/utils/omrs-dates.ts","webpack:///./src/order-basket/drug-ordering.ts","webpack:///./src/order-basket/order-basket-item.component.tsx","webpack:///./src/order-basket/order-basket-item-list.component.tsx","webpack:///./src/order-basket/order-basket.component.tsx","webpack:///./src/root-order-basket.tsx","webpack:///./src/order-basket-store.ts","webpack:///./src/api/api.ts","webpack:///./src/constants.ts","webpack:///./src/utils/pagination.ts","webpack:///./src/utils/use-current-patient-orders.hook.ts","webpack:///./src/components/medications-details-table.scss?8920","webpack:///./src/components/medications-details-table.scss","webpack:///./src/utils/get-dosage.ts","webpack:///./src/utils/compare.ts","webpack:///./src/components/medications-details-table.component.tsx","webpack:///./src/order-basket/order-basket-search.scss?050d","webpack:///./src/order-basket/order-basket-search.scss","webpack:///./src/order-basket/order-basket-search-results.scss?741f","webpack:///./src/order-basket/order-basket-search-results.scss","webpack:///./src/order-basket/medication-order-form.scss?e6a5","webpack:///./src/order-basket/medication-order-form.scss"],"names":["api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_API_IMPORT___","push","getCommonMedicationByUuid","uuid","commonMedications","filter","x","async","searchMedications","searchTerm","encounterUuid","abortController","allSearchTerms","match","drugs","results","Promise","all","map","getDrugByName","data","flatMap","uniqBy","searchDrugsInBackend","result","every","includesIgnoreCase","drug","name","dosageUnit","dosage","frequency","route","filterExplodedResultsBySearchTerm","explodeDrugResultWithCommonMedicationData","commonMedication","dosageUnits","commonDosages","commonFrequencies","action","commonMedicationName","isFreeTextDosage","patientInstructions","asNeeded","asNeededCondition","startDate","Date","duration","durationUnit","daysDurationUnit","pillsDispensed","numRefills","freeTextDosage","indication","a","b","toLowerCase","includes","OrderBasketSearchResults","setSearchTerm","onSearchResultClicked","t","useTranslation","searchResults","setSearchResults","useState","page","setPage","pageSize","setPageSize","currentSearchResultPage","paginate","useEffect","AbortController","then","createErrorHandler","abort","handleSearchResultClicked","searchResult","directlyAddToBasket","style","display","justifyContent","className","styles","label01","count","length","Link","onClick","index","key","searchResultTile","marginTop","handleClick","alignItems","flex","marginRight","concept","Button","kind","hasIconOnly","renderIcon","iconDescription","Pagination","pageSizes","totalItems","onChange","OrderBasketSearch","searchPopupContainer","Search","value","placeHolderText","labelText","e","currentTarget","margin","MedicationOrderForm","initialOrderBasketItem","durationUnits","onSign","onCancel","orderBasketItem","setOrderBasketItem","Header","aria-label","medicationDetailsHeader","HeaderName","prefix","capitalize","toUpperCase","Form","orderForm","onSubmit","productiveHeading03","Grid","padding","Row","Column","productiveHeading02","pullColumnContentRight","ToggleSmall","id","toggled","onToggle","md","TextArea","placeholder","maxLength","target","ComboBox","items","text","selectedItem","titleText","itemToString","item","invalid","invalidText","find","conceptUuid","fullHeightTextAreaContainer","FormGroup","legendText","Checkbox","checked","newValue","visibility","rows","fullWidthDatePickerContainer","DatePicker","datePickerType","maxDate","newStartDate","DatePickerInput","NumberInput","label","min","allowEmpty","helperText","imaginaryTarget","unit","TextInput","ButtonSet","type","toOmrsDateString","date","toUTC","d","dayjs","utc","format","extend","careSetting","orderer","orderDrugs","orderBasketItems","patientUuid","dtos","order","patient","encounter","dose","numberOfPills","doseUnits","quantity","quantityUnits","dosingType","dosingInstructions","orderReasonNonCoded","dateActivated","previousOrder","Error","medicationOrderToApiDto","erroredItems","dto","postOrder","catch","error","orderError","OrderBasketItemTile","onRemoveClick","shouldOnClickBeCalled","useRef","tileContent","clipTextWithEllipsis","OrderActionLabel","orderErrorText","responseBody","message","current","Tile","orderActionNewLabel","orderActionRenewLabel","orderActionRevisedLabel","orderActionDiscontinueLabel","OrderBasketItemList","onItemClicked","onItemRemoveClicked","newOrderBasketItems","renewedOrderBasketItems","revisedOrderBasketItems","discontinuedOrderBasketItems","orderCategoryHeading","OrderBasket","connect","orderBasketStoreActions","closeWorkspace","setItems","setDurationUnits","setEncounterUuid","isLoading","setIsLoading","medicationOrderFormItem","setMedicationOrderFormItem","isMedicationOrderFormVisible","setIsMedicationOrderFormVisible","onMedicationOrderFormSigned","setOnMedicationOrderFormSign","activePatientOrders","fetchActivePatientOrders","useHistory","usePatientOrders","durationUnitsRequest","getDurationUnits","res","answers","patientEncounterRequest","getPatientEncounterId","finally","openMedicationOrderForm","onSigned","_","finalizedOrder","openMedicationOrderFormForAddingNewOrder","newOrderBasketItem","Loading","active","withOverlay","orderBasketContainer","existingOrderIndex","newOrders","openMedicationOrderFormForUpdatingExistingOrder","indexOf","splice","title","medications","showDiscontinueButton","showModifyButton","showReorderButton","showAddNewButton","DataTableSkeleton","RootOrderBasket","fallbackPatientUuid","useCurrentPatient","switchTo","basename","window","store","orderBasketStore","defineConfigSchema","createGlobalStore","openmrsFetch","signal","drugName","body","method","headers","fetchPatientOrders","status","orderType","pageNumber","itemsPerPage","allPages","chunk","orders","setOrders","fetchOrders","getDosage","strength","doseNumber","search","strengthQuantity","substring","concentrationStartIndex","strengthUnits","j","substr","compare","y","undefined","MedicationsDetailsTable","currentMedicationPage","tableHeaders","header","isSortable","isVisible","tableRows","medication","details","sortKey","bodyLong01","toDate","DataTable","sortRow","cellA","cellB","sortDirection","sortStates","DESC","getTableProps","getHeaderProps","getRowProps","TableContainer","TableToolbar","TableToolbarContent","Table","TableHead","TableRow","TableHeader","TableBody","row","rowIndex","cells","cell","TableCell","OrderBasketItemActions","alreadyInBasket","some","handleDiscontinueClick","useCallback","handleModifyClick","handleReorderClick","OverflowMenu","flipped","OverflowMenuItem","itemText","disabled"],"mappings":"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","file":"2.openmrs-esm-drugorder-app.js","sourcesContent":["var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../node_modules/sass-loader/dist/cjs.js!./order-basket-item.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-drugorder__order-basket-item__resetPatientChartWidgetContainer___edG2g{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-item__productiveHeading01___2SFom{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-item__productiveHeading02___129r0{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading03___RD5MM{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading04___1lqWt{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading05___3Qql7{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item__productiveHeading06___4Hn2U{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-item__bodyShort01___17cu0{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-item__bodyShort02___TnW_M{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-item__bodyLong01___1yabr{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-item__bodyLong02___1Mfxb{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-item__label01___1tu7G,.esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY,.esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU,.esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt,.esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-item__clipTextWithEllipsis___1U0ag{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY{color:#24a148}.esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU{color:#24a148}.esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt{color:#525252}.esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok{color:#525252}.esm-drugorder__order-basket-item__orderErrorText___1wMVJ{color:#da1e28;display:flex;align-items:center}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"resetPatientChartWidgetContainer\": \"esm-drugorder__order-basket-item__resetPatientChartWidgetContainer___edG2g\",\n\t\"productiveHeading01\": \"esm-drugorder__order-basket-item__productiveHeading01___2SFom\",\n\t\"productiveHeading02\": \"esm-drugorder__order-basket-item__productiveHeading02___129r0\",\n\t\"productiveHeading03\": \"esm-drugorder__order-basket-item__productiveHeading03___RD5MM\",\n\t\"productiveHeading04\": \"esm-drugorder__order-basket-item__productiveHeading04___1lqWt\",\n\t\"productiveHeading05\": \"esm-drugorder__order-basket-item__productiveHeading05___3Qql7\",\n\t\"productiveHeading06\": \"esm-drugorder__order-basket-item__productiveHeading06___4Hn2U\",\n\t\"bodyShort01\": \"esm-drugorder__order-basket-item__bodyShort01___17cu0\",\n\t\"bodyShort02\": \"esm-drugorder__order-basket-item__bodyShort02___TnW_M\",\n\t\"bodyLong01\": \"esm-drugorder__order-basket-item__bodyLong01___1yabr\",\n\t\"bodyLong02\": \"esm-drugorder__order-basket-item__bodyLong02___1Mfxb\",\n\t\"label01\": \"esm-drugorder__order-basket-item__label01___1tu7G\",\n\t\"orderActionNewLabel\": \"esm-drugorder__order-basket-item__orderActionNewLabel___RT1AY\",\n\t\"orderActionRenewLabel\": \"esm-drugorder__order-basket-item__orderActionRenewLabel___28LNU\",\n\t\"orderActionRevisedLabel\": \"esm-drugorder__order-basket-item__orderActionRevisedLabel___3sgSt\",\n\t\"orderActionDiscontinueLabel\": \"esm-drugorder__order-basket-item__orderActionDiscontinueLabel___3l9Ok\",\n\t\"clipTextWithEllipsis\": \"esm-drugorder__order-basket-item__clipTextWithEllipsis___1U0ag\",\n\t\"orderErrorText\": \"esm-drugorder__order-basket-item__orderErrorText___1wMVJ\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../node_modules/sass-loader/dist/cjs.js!./order-basket-item-list.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-drugorder__order-basket-item-list__resetPatientChartWidgetContainer___DXab3{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-item-list__productiveHeading01___2ZgWF,.esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-item-list__productiveHeading02___aKdGJ{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading03___8XWCS{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading04___3TJxx{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading05___2pmTj{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-item-list__productiveHeading06___1A8bj{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-item-list__bodyShort01___2By7c{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-item-list__bodyShort02___Lf_aH{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-item-list__bodyLong01___2j-ur{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-item-list__bodyLong02___1tb0i{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-item-list__label01___1LqUb{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-item-list__clipTextWithEllipsis___BXB_b{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw{color:#525252;margin:1rem 0}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"resetPatientChartWidgetContainer\": \"esm-drugorder__order-basket-item-list__resetPatientChartWidgetContainer___DXab3\",\n\t\"productiveHeading01\": \"esm-drugorder__order-basket-item-list__productiveHeading01___2ZgWF\",\n\t\"orderCategoryHeading\": \"esm-drugorder__order-basket-item-list__orderCategoryHeading___2Oghw\",\n\t\"productiveHeading02\": \"esm-drugorder__order-basket-item-list__productiveHeading02___aKdGJ\",\n\t\"productiveHeading03\": \"esm-drugorder__order-basket-item-list__productiveHeading03___8XWCS\",\n\t\"productiveHeading04\": \"esm-drugorder__order-basket-item-list__productiveHeading04___3TJxx\",\n\t\"productiveHeading05\": \"esm-drugorder__order-basket-item-list__productiveHeading05___2pmTj\",\n\t\"productiveHeading06\": \"esm-drugorder__order-basket-item-list__productiveHeading06___1A8bj\",\n\t\"bodyShort01\": \"esm-drugorder__order-basket-item-list__bodyShort01___2By7c\",\n\t\"bodyShort02\": \"esm-drugorder__order-basket-item-list__bodyShort02___Lf_aH\",\n\t\"bodyLong01\": \"esm-drugorder__order-basket-item-list__bodyLong01___2j-ur\",\n\t\"bodyLong02\": \"esm-drugorder__order-basket-item-list__bodyLong02___1tb0i\",\n\t\"label01\": \"esm-drugorder__order-basket-item-list__label01___1LqUb\",\n\t\"clipTextWithEllipsis\": \"esm-drugorder__order-basket-item-list__clipTextWithEllipsis___BXB_b\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../node_modules/sass-loader/dist/cjs.js!./order-basket.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-drugorder__order-basket__resetPatientChartWidgetContainer___2KrGA{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket__productiveHeading01___132oA{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket__productiveHeading02___2U9Zy{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading03___19omV{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading04___1Biit{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading05___AZUdA{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket__productiveHeading06___1aiQz{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket__bodyShort01___YkkFr{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket__bodyShort02___1ZmH_{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket__bodyLong01___-rBP1{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket__bodyLong02___3OGK5{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket__label01___2f8Fk{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket__clipTextWithEllipsis___3un9j{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket__orderBasketContainer___27MnW{margin:1rem}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"resetPatientChartWidgetContainer\": \"esm-drugorder__order-basket__resetPatientChartWidgetContainer___2KrGA\",\n\t\"productiveHeading01\": \"esm-drugorder__order-basket__productiveHeading01___132oA\",\n\t\"productiveHeading02\": \"esm-drugorder__order-basket__productiveHeading02___2U9Zy\",\n\t\"productiveHeading03\": \"esm-drugorder__order-basket__productiveHeading03___19omV\",\n\t\"productiveHeading04\": \"esm-drugorder__order-basket__productiveHeading04___1Biit\",\n\t\"productiveHeading05\": \"esm-drugorder__order-basket__productiveHeading05___AZUdA\",\n\t\"productiveHeading06\": \"esm-drugorder__order-basket__productiveHeading06___1aiQz\",\n\t\"bodyShort01\": \"esm-drugorder__order-basket__bodyShort01___YkkFr\",\n\t\"bodyShort02\": \"esm-drugorder__order-basket__bodyShort02___1ZmH_\",\n\t\"bodyLong01\": \"esm-drugorder__order-basket__bodyLong01___-rBP1\",\n\t\"bodyLong02\": \"esm-drugorder__order-basket__bodyLong02___3OGK5\",\n\t\"label01\": \"esm-drugorder__order-basket__label01___2f8Fk\",\n\t\"clipTextWithEllipsis\": \"esm-drugorder__order-basket__clipTextWithEllipsis___3un9j\",\n\t\"orderBasketContainer\": \"esm-drugorder__order-basket__orderBasketContainer___27MnW\"\n};\nmodule.exports = exports;\n","import commonMedications from './common-medication.json';\n\nexport interface CommonMedication {\n  name: string;\n  uuid: string;\n  strength: string;\n  dosageUnits: Array<CommonMedicationDosageUnit>;\n  route: Array<CommonMedicationRoute>;\n  commonFrequencies: Array<CommonMedicationFrequency>;\n  commonDosages: Array<CommonMedicationDosage>;\n}\n\nexport interface CommonMedicationDosageUnit {\n  uuid: string;\n  name: string;\n  selected?: boolean;\n}\n\nexport interface CommonMedicationRoute {\n  name: string;\n  conceptUuid: string;\n  selected?: boolean;\n}\n\nexport interface CommonMedicationFrequency {\n  name: string;\n  conceptUuid: string;\n  selected?: boolean;\n}\n\nexport interface CommonMedicationDosage {\n  dosage: string;\n  numberOfPills: number;\n  selected?: boolean;\n}\n\nexport function getCommonMedicationByUuid(uuid: string): CommonMedication | undefined {\n  return commonMedications.filter(x => x.uuid === uuid)[0];\n}\n\nexport function getCommonMedicationByName(name: string): CommonMedication | undefined {\n  return commonMedications.filter(x => x.name.toLowerCase() === name.toLowerCase())[0];\n}\n","import { getDrugByName } from '../api/api';\nimport { getCommonMedicationByUuid } from '../api/common-medication';\nimport { OrderBasketItem } from '../types/order-basket-item';\nimport { daysDurationUnit } from '../constants';\nimport uniqBy from 'lodash-es/uniqBy';\nimport { Drug } from '../types/order';\n\n// Note:\n// There's currently no backend API available for the data in `common-medication.json`.\n// This means that there's also no external API where we can search for that data.\n// This results in us having to simulate a search on the frontend.\n// The way this works is that we search all drugs matching the search term(s) in the backend and enrich that drug data\n// with the data found in `common-medication.json`. These exploded results are then again filtered with the search term(s).\n//\n// For example, imagine that we search for \"Aspirin 81mg\".\n// We call the drug endpoint with both \"Aspirin\" and \"81mg\" and receive a single drug (Aspirin) for the first term.\n// `common-medication.json` now defines a lot of additional data for Aspirin (e.g. 81mg, 243mg, ...).\n// -> We explode this info into multiple Aspirin results. But since the user also entered \"81mg\" as a search term, we\n// also slim the final list of search results down again.\n//\n// This method certainly isn't perfect, but again, since the common medication data is only available to us, it's kind of\n// the best thing we can do here.\n\nexport async function searchMedications(searchTerm: string, encounterUuid: string, abortController: AbortController) {\n  const allSearchTerms = searchTerm.match(/\\S+/g);\n  const drugs = await searchDrugsInBackend(allSearchTerms, abortController);\n  const explodedSearchResults = drugs.flatMap(drug => [\n    ...explodeDrugResultWithCommonMedicationData(drug, encounterUuid),\n  ]);\n  return filterExplodedResultsBySearchTerm(allSearchTerms, explodedSearchResults);\n}\n\nasync function searchDrugsInBackend(allSearchTerms: Array<string>, abortController: AbortController) {\n  const resultsPerSearchTerm = await Promise.all(\n    allSearchTerms.map(async searchTerm => {\n      const res = await getDrugByName(searchTerm, abortController);\n      return res.data.results;\n    }),\n  );\n  const results = resultsPerSearchTerm.flatMap(x => x);\n  return uniqBy(results, 'uuid');\n}\n\nfunction* explodeDrugResultWithCommonMedicationData(drug: Drug, encounterUuid: string): Generator<OrderBasketItem> {\n  const commonMedication = getCommonMedicationByUuid(drug.uuid);\n\n  // If no common medication entry exists for the current drug, there is no point in displaying it in the search results,\n  // because the user could not enter medication details anyway (the component requires a common medication entry\n  // in order to work correctly).\n  if (!commonMedication) {\n    return;\n  }\n\n  for (const dosageUnit of commonMedication.dosageUnits) {\n    for (const dosage of commonMedication.commonDosages) {\n      for (const frequency of commonMedication.commonFrequencies) {\n        for (const route of commonMedication.route) {\n          yield {\n            action: 'NEW',\n            drug,\n            dosage,\n            dosageUnit,\n            frequency,\n            route,\n            encounterUuid,\n            commonMedicationName: commonMedication.name,\n            isFreeTextDosage: false,\n            patientInstructions: '',\n            asNeeded: false,\n            asNeededCondition: '',\n            startDate: new Date(),\n            duration: null,\n            durationUnit: daysDurationUnit,\n            pillsDispensed: 0,\n            numRefills: 0,\n            freeTextDosage: '',\n            indication: '',\n          };\n        }\n      }\n    }\n  }\n}\n\nfunction filterExplodedResultsBySearchTerm(allSearchTerms: Array<string>, results: Array<OrderBasketItem>) {\n  return results.filter(result =>\n    allSearchTerms.every(\n      searchTerm =>\n        includesIgnoreCase(result.drug.name, searchTerm) ||\n        includesIgnoreCase(result.dosageUnit.name, searchTerm) ||\n        includesIgnoreCase(result.dosage.dosage, searchTerm) ||\n        includesIgnoreCase(result.frequency.name, searchTerm) ||\n        includesIgnoreCase(result.route.name, searchTerm),\n    ),\n  );\n}\n\nfunction includesIgnoreCase(a: string, b: string) {\n  return a.toLowerCase().includes(b.toLowerCase());\n}\n","import React, { useEffect, useState } from 'react';\nimport styles from './order-basket-search-results.scss';\nimport { Button, ClickableTile, Link, Pagination } from 'carbon-components-react';\nimport { useTranslation } from 'react-i18next';\nimport { Medication16, ShoppingBag16 } from '@carbon/icons-react';\nimport { createErrorHandler } from '@openmrs/esm-error-handling';\nimport { searchMedications } from './drug-search';\nimport { OrderBasketItem } from '../types/order-basket-item';\nimport { paginate } from '../utils/pagination';\n\nexport interface OrderBasketSearchResultsProps {\n  searchTerm: string;\n  encounterUuid: string;\n  setSearchTerm: (value: string) => void;\n  onSearchResultClicked: (searchResult: OrderBasketItem, directlyAddToBasket: boolean) => void;\n}\n\nexport default function OrderBasketSearchResults({\n  searchTerm,\n  encounterUuid,\n  setSearchTerm,\n  onSearchResultClicked,\n}: OrderBasketSearchResultsProps) {\n  const { t } = useTranslation();\n  const [searchResults, setSearchResults] = useState<Array<OrderBasketItem>>([]);\n  const [page, setPage] = useState(1);\n  const [pageSize, setPageSize] = useState(10);\n  const [currentSearchResultPage] = paginate(searchResults, page, pageSize);\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    searchMedications(searchTerm, encounterUuid, abortController).then(setSearchResults, createErrorHandler);\n    return () => abortController.abort();\n  }, [searchTerm, encounterUuid]);\n\n  const handleSearchResultClicked = (searchResult: OrderBasketItem, directlyAddToBasket: boolean) => {\n    setSearchTerm('');\n    setSearchResults([]);\n    onSearchResultClicked(searchResult, directlyAddToBasket);\n  };\n\n  return (\n    <>\n      {!!searchTerm && (\n        <>\n          <div style={{ display: 'flex', justifyContent: 'space-between' }}>\n            <span className={styles.label01}>\n              {t('searchResultsExactMatchesForTerm', '{count} exact match(es) for \"{searchTerm}\"', {\n                count: searchResults.length,\n                searchTerm,\n              })}\n            </span>\n            <Link onClick={() => setSearchTerm('')}>{t('clearSearchResults', 'Clear Results')}</Link>\n          </div>\n\n          {currentSearchResultPage.map((result, index) => (\n            <ClickableTile\n              key={index}\n              className={styles.searchResultTile}\n              style={{ marginTop: '5px' }}\n              handleClick={() => handleSearchResultClicked(result, false)}>\n              <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n                <Medication16 style={{ flex: '0 0 auto', marginRight: '20px' }} />\n                <div style={{ flex: '1 1 auto' }}>\n                  <p>\n                    <strong>\n                      {result.drug.concept.display} ({result.dosage?.dosage})\n                    </strong>\n                    <br />\n                    <span className={styles.label01}>{result.dosageUnit.name}</span> &mdash;{' '}\n                    <span className={styles.label01}>{result.frequency.name}</span> &mdash;{' '}\n                    <span className={styles.label01}>{result.route.name}</span>\n                  </p>\n                </div>\n                <Button\n                  style={{ flex: '0 0 auto' }}\n                  kind=\"ghost\"\n                  hasIconOnly={true}\n                  renderIcon={() => <ShoppingBag16 />}\n                  iconDescription={t('directlyAddToBasket', 'Immediately add to basket')}\n                  onClick={() => handleSearchResultClicked(result, true)}\n                />\n              </div>\n            </ClickableTile>\n          ))}\n          {searchResults.length > 0 && (\n            <Pagination\n              page={page}\n              pageSize={pageSize}\n              pageSizes={[10, 20, 30, 40, 50]}\n              totalItems={searchResults.length}\n              onChange={({ page, pageSize }) => {\n                setPage(page);\n                setPageSize(pageSize);\n              }}\n            />\n          )}\n        </>\n      )}\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport { Search } from 'carbon-components-react';\nimport { useTranslation } from 'react-i18next';\nimport styles from './order-basket-search.scss';\nimport OrderBasketSearchResults from './order-basket-search-results';\nimport { OrderBasketItem } from '../types/order-basket-item';\n\nexport interface OrderBasketSearchProps {\n  encounterUuid: string;\n  onSearchResultClicked: (searchResult: OrderBasketItem, directlyAddToBasket: boolean) => void;\n}\n\nexport default function OrderBasketSearch({ encounterUuid, onSearchResultClicked }: OrderBasketSearchProps) {\n  const { t } = useTranslation();\n  const [searchTerm, setSearchTerm] = useState('');\n\n  return (\n    <>\n      <div className={styles.searchPopupContainer}>\n        <Search\n          value={searchTerm}\n          placeHolderText={t('searchFieldPlaceholder', 'Search for an order (e.g. \"Aspirin\")')}\n          labelText={t('searchFieldPlaceholder', 'Search for an order (e.g. \"Aspirin\")')}\n          onChange={e => setSearchTerm(e.currentTarget?.value ?? '')}\n        />\n        <div style={{ margin: '1rem' }}>\n          <OrderBasketSearchResults\n            encounterUuid={encounterUuid}\n            searchTerm={searchTerm}\n            setSearchTerm={setSearchTerm}\n            onSearchResultClicked={onSearchResultClicked}\n          />\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useState } from 'react';\nimport {\n  Button,\n  // @ts-ignore\n  ButtonSet,\n  Checkbox,\n  Column,\n  ComboBox,\n  DatePicker,\n  DatePickerInput,\n  Form,\n  FormGroup,\n  Grid,\n  Header,\n  HeaderName,\n  NumberInput,\n  Row,\n  TextArea,\n  TextInput,\n  ToggleSmall,\n} from 'carbon-components-react';\nimport styles from './medication-order-form.scss';\nimport { useTranslation } from 'react-i18next';\nimport { OrderBasketItem } from '../types/order-basket-item';\nimport { daysDurationUnit } from '../constants';\nimport { getCommonMedicationByUuid } from '../api/common-medication';\nimport { OpenmrsResource } from '../types/openmrs-resource';\nimport capitalize from 'lodash-es/capitalize';\n\nexport interface MedicationOrderFormProps {\n  initialOrderBasketItem: OrderBasketItem;\n  durationUnits: Array<OpenmrsResource>;\n  onSign: (finalizedOrder: OrderBasketItem) => void;\n  onCancel: () => void;\n}\n\nexport default function MedicationOrderForm({\n  initialOrderBasketItem,\n  durationUnits,\n  onSign,\n  onCancel,\n}: MedicationOrderFormProps) {\n  const { t } = useTranslation();\n  const [orderBasketItem, setOrderBasketItem] = useState(initialOrderBasketItem);\n  const commonMedication = getCommonMedicationByUuid(orderBasketItem.drug.uuid);\n\n  return (\n    <>\n      <Header aria-label=\"\" className={styles.medicationDetailsHeader}>\n        <HeaderName prefix=\"\">\n          {orderBasketItem.isFreeTextDosage ? (\n            <strong>{capitalize(orderBasketItem.commonMedicationName)}</strong>\n          ) : (\n            <>\n              <span>\n                <strong>{capitalize(orderBasketItem.commonMedicationName)}</strong> &mdash; {orderBasketItem.route.name}{' '}\n                &mdash; {orderBasketItem.dosageUnit.name} &mdash;{' '}\n                <span className={styles.label01}>{t('dose', 'Dose').toUpperCase()}</span> &mdash;{' '}\n                <strong>{orderBasketItem.dosage.dosage}</strong>\n              </span>\n            </>\n          )}\n        </HeaderName>\n      </Header>\n      <Form className={styles.orderForm} onSubmit={() => onSign(orderBasketItem)}>\n        <h2 className={styles.productiveHeading03}>{t('orderForm', 'Order Form')}</h2>\n        <Grid style={{ padding: 0 }}>\n          <Row>\n            <Column>\n              <h3 className={styles.productiveHeading02}>{t('dosageInstructions', '1. Dosage Instructions')}</h3>\n            </Column>\n            <Column className={styles.pullColumnContentRight}>\n              <ToggleSmall\n                id=\"freeTextDosageToggle\"\n                aria-label={t('freeTextDosage', 'Free Text Dosage')}\n                labelText={t('freeTextDosage', 'Free Text Dosage')}\n                toggled={orderBasketItem.isFreeTextDosage}\n                onChange={() => {} /* Required by the typings, but we don't need it. */}\n                onToggle={value => setOrderBasketItem({ ...orderBasketItem, isFreeTextDosage: value })}\n              />\n            </Column>\n          </Row>\n\n          {orderBasketItem.isFreeTextDosage ? (\n            <Row style={{ marginTop: '0.5rem' }}>\n              <Column md={8}>\n                <TextArea\n                  labelText={t('freeTextDosage', 'Free Text Dosage')}\n                  placeholder={t('freeTextDosage', 'Free Text Dosage')}\n                  value={orderBasketItem.freeTextDosage}\n                  maxLength={65535}\n                  onChange={e => setOrderBasketItem({ ...orderBasketItem, freeTextDosage: e.target.value })}\n                />\n              </Column>\n            </Row>\n          ) : (\n            <>\n              <Row style={{ marginTop: '1rem' }}>\n                <Column md={4}>\n                  <ComboBox\n                    id=\"doseSelection\"\n                    items={commonMedication.commonDosages.map(x => ({ id: x.dosage, text: x.dosage }))}\n                    selectedItem={{ id: orderBasketItem.dosage.dosage, text: orderBasketItem.dosage.dosage }}\n                    placeholder={t('editDoseComboBoxPlaceholder', 'Dose')}\n                    titleText={t('editDoseComboBoxTitle', 'Enter Dose')}\n                    itemToString={item => item?.text}\n                    invalid={!orderBasketItem.dosage && !orderBasketItem.isFreeTextDosage}\n                    invalidText={t('validationNoItemSelected', 'Please select one of the available items.')}\n                    onChange={({ selectedItem }) => {\n                      setOrderBasketItem({\n                        ...orderBasketItem,\n                        dosage: !!selectedItem?.id\n                          ? commonMedication.commonDosages.find(x => x.dosage === selectedItem.id)\n                          : initialOrderBasketItem.dosage,\n                      });\n                    }}\n                  />\n                </Column>\n                <Column md={4}>\n                  <ComboBox\n                    id=\"editFrequency\"\n                    items={commonMedication.commonFrequencies.map(x => ({ id: x.conceptUuid, text: x.name }))}\n                    selectedItem={{ id: orderBasketItem.frequency.conceptUuid, text: orderBasketItem.frequency.name }}\n                    placeholder={t('editFrequencyComboBoxPlaceholder', 'Frequency')}\n                    titleText={t('editFrequencyComboBoxTitle', 'Enter Frequency')}\n                    itemToString={item => item?.text}\n                    invalid={!orderBasketItem.frequency && !orderBasketItem.isFreeTextDosage}\n                    invalidText={t('validationNoItemSelected', 'Please select one of the available items.')}\n                    onChange={({ selectedItem }) => {\n                      setOrderBasketItem({\n                        ...orderBasketItem,\n                        frequency: !!selectedItem?.id\n                          ? commonMedication.commonFrequencies.find(x => x.conceptUuid === selectedItem.id)\n                          : initialOrderBasketItem.frequency,\n                      });\n                    }}\n                  />\n                </Column>\n              </Row>\n              <Row style={{ marginTop: '1rem' }}>\n                <Column md={4}>\n                  <ComboBox\n                    id=\"editRoute\"\n                    items={commonMedication.route.map(x => ({ id: x.conceptUuid, text: x.name }))}\n                    selectedItem={{ id: orderBasketItem.route.conceptUuid, text: orderBasketItem.route.name }}\n                    placeholder={t('editRouteComboBoxPlaceholder', 'Route')}\n                    titleText={t('editRouteComboBoxTitle', 'Enter Route')}\n                    itemToString={item => item?.text}\n                    invalid={!orderBasketItem.route && !orderBasketItem.isFreeTextDosage}\n                    invalidText={t('validationNoItemSelected', 'Please select one of the available items.')}\n                    onChange={({ selectedItem }) => {\n                      setOrderBasketItem({\n                        ...orderBasketItem,\n                        route: !!selectedItem?.id\n                          ? commonMedication.route.find(x => x.conceptUuid === selectedItem.id)\n                          : initialOrderBasketItem.route,\n                      });\n                    }}\n                  />\n                </Column>\n              </Row>\n              <Row style={{ marginTop: '1rem' }}>\n                <Column className={styles.fullHeightTextAreaContainer}>\n                  <TextArea\n                    labelText={t('patientInstructions', 'Patient Instructions')}\n                    placeholder={t(\n                      'patientInstructionsPlaceholder',\n                      'Additional dosing instructions (e.g. \"Take after eating\")',\n                    )}\n                    maxLength={65535}\n                    value={orderBasketItem.patientInstructions}\n                    onChange={e => setOrderBasketItem({ ...orderBasketItem, patientInstructions: e.target.value })}\n                  />\n                </Column>\n                <Column>\n                  <FormGroup legendText={t('prn', 'P.R.N.')}>\n                    <Checkbox\n                      id=\"prn\"\n                      labelText={t('takeAsNeeded', 'Take As Needed')}\n                      checked={orderBasketItem.asNeeded}\n                      onChange={newValue => setOrderBasketItem({ ...orderBasketItem, asNeeded: newValue })}\n                    />\n                  </FormGroup>\n                  <div\n                    className={styles.fullHeightTextAreaContainer}\n                    style={orderBasketItem.asNeeded ? {} : { visibility: 'hidden' }}>\n                    <TextArea\n                      labelText={t('prnReason', 'P.R.N. Reason')}\n                      placeholder={t('prnReasonPlaceholder', 'Reason to take medicine')}\n                      rows={3}\n                      maxLength={255}\n                      value={orderBasketItem.asNeededCondition}\n                      onChange={e => setOrderBasketItem({ ...orderBasketItem, asNeededCondition: e.target.value })}\n                    />\n                  </div>\n                </Column>\n              </Row>\n            </>\n          )}\n          <Row style={{ marginTop: '2rem' }}>\n            <Column md={8}>\n              <h3 className={styles.productiveHeading02}>{t('prescriptionDuration', '2. Prescription Duration')}</h3>\n            </Column>\n          </Row>\n          <Row style={{ marginTop: '1rem' }}>\n            <Column md={4} className={styles.fullWidthDatePickerContainer}>\n              <DatePicker\n                datePickerType=\"single\"\n                maxDate={new Date()}\n                value={[orderBasketItem.startDate]}\n                onChange={([newStartDate]) => setOrderBasketItem({ ...orderBasketItem, startDate: newStartDate })}>\n                <DatePickerInput\n                  id=\"startDatePicker\"\n                  placeholder=\"mm/dd/yyyy\"\n                  labelText={t('startDate', 'Start Date')}\n                />\n              </DatePicker>\n            </Column>\n            <Column md={2}>\n              <NumberInput\n                id=\"durationInput\"\n                label={t('duration', 'Duration')}\n                min={1}\n                // @ts-ignore Strings are accepted, even though the types don't reflect it.\n                value={orderBasketItem.duration ?? ''}\n                allowEmpty={true}\n                helperText={t('noDurationHint', 'An empty field indicates an indefinite duration.')}\n                onChange={e => {\n                  // @ts-ignore\n                  const newValue = e.imaginaryTarget.value === '' ? null : +e.imaginaryTarget.value;\n                  setOrderBasketItem({ ...orderBasketItem, duration: newValue });\n                }}\n              />\n            </Column>\n            <Column md={2}>\n              <FormGroup legendText={t('durationUnit', 'Duration Unit')}>\n                <ComboBox\n                  id=\"durationUnitPlaceholder\"\n                  selectedItem={{ id: orderBasketItem.durationUnit.uuid, text: orderBasketItem.durationUnit.display }}\n                  items={durationUnits.map(unit => ({ id: unit.uuid, text: unit.display }))}\n                  itemToString={item => item?.text}\n                  placeholder={t('durationUnitPlaceholder', 'Duration Unit')}\n                  onChange={({ selectedItem }) =>\n                    !!selectedItem\n                      ? setOrderBasketItem({\n                          ...orderBasketItem,\n                          durationUnit: { uuid: selectedItem.id, display: selectedItem.text },\n                        })\n                      : setOrderBasketItem({ ...orderBasketItem, durationUnit: daysDurationUnit })\n                  }\n                />\n              </FormGroup>\n            </Column>\n          </Row>\n          <Row>\n            <Column md={8}>\n              <h3 className={styles.productiveHeading02}>{t('dispensingInformation', '3. Dispensing Information')}</h3>\n            </Column>\n          </Row>\n          <Row style={{ marginTop: '1rem' }}>\n            <Column md={2}>\n              <FormGroup legendText={t('quantityDispensed', 'Quantity Dispensed')}>\n                <NumberInput\n                  id=\"quantityDispensed\"\n                  helperText={t('pillsDispensed', 'Pills dispensed')}\n                  value={orderBasketItem.pillsDispensed}\n                  min={0}\n                  onChange={e => {\n                    setOrderBasketItem({\n                      ...orderBasketItem,\n                      // @ts-ignore\n                      pillsDispensed: +e.imaginaryTarget.value,\n                    });\n                  }}\n                />\n              </FormGroup>\n            </Column>\n            <Column md={2}>\n              <FormGroup legendText={t('prescriptionRefills', 'Prescription Refills')}>\n                <NumberInput\n                  id=\"prescriptionRefills\"\n                  min={0}\n                  value={orderBasketItem.numRefills}\n                  onChange={e =>\n                    setOrderBasketItem({\n                      ...orderBasketItem,\n                      // @ts-ignore\n                      numRefills: +e.imaginaryTarget.value,\n                    })\n                  }\n                />\n              </FormGroup>\n            </Column>\n          </Row>\n          <Row>\n            <Column md={8}>\n              <TextInput\n                id=\"indication\"\n                labelText={t('indication', 'Indication')}\n                placeholder={t('indicationPlaceholder', 'e.g. \"Hypertension\"')}\n                value={orderBasketItem.indication}\n                onChange={e => setOrderBasketItem({ ...orderBasketItem, indication: e.target.value })}\n                maxLength={150}\n              />\n            </Column>\n          </Row>\n        </Grid>\n\n        <ButtonSet style={{ marginTop: '2rem' }}>\n          <Button kind=\"secondary\" onClick={onCancel}>\n            {t('cancel', 'Cancel')}\n          </Button>\n          <Button kind=\"primary\" type=\"submit\">\n            {t('save', 'Save')}\n          </Button>\n        </ButtonSet>\n      </Form>\n    </>\n  );\n}\n","import dayjs from 'dayjs';\nimport utc from 'dayjs/plugin/utc';\ndayjs.extend(utc);\n\nexport function toOmrsDateString(date: Date, toUTC = false): string {\n  let d = dayjs(date);\n  if (toUTC) {\n    d = d.utc();\n  }\n  return d.format('YYYY-MM-DDTHH:mm:ss.SSSZZ');\n}\n","import { OrderBasketItem } from '../types/order-basket-item';\nimport dayjs from 'dayjs';\nimport { postOrder } from '../api/api';\nimport { toOmrsDateString } from '../utils/omrs-dates';\nimport { OrderPost } from '../types/order';\n\nconst careSetting = '6f0c9a92-6f24-11e3-af88-005056821db0';\nconst orderer = 'e89cae4a-3cb3-40a2-b964-8b20dda2c985';\n\nexport async function orderDrugs(\n  orderBasketItems: Array<OrderBasketItem>,\n  patientUuid: string,\n  abortController: AbortController,\n) {\n  const dtos = medicationOrderToApiDto(orderBasketItems, patientUuid);\n  const erroredItems: Array<OrderBasketItem> = [];\n\n  for (let i = 0; i < dtos.length; i++) {\n    const dto = dtos[i];\n    const orderBasketItem = orderBasketItems[i];\n    await postOrder(dto, abortController).catch(error => {\n      erroredItems.push({\n        ...orderBasketItem,\n        orderError: error,\n      });\n    });\n  }\n\n  return erroredItems;\n}\n\nfunction medicationOrderToApiDto(orderBasketItems: Array<OrderBasketItem>, patientUuid: string): Array<OrderPost> {\n  return orderBasketItems.map(order => {\n    if (order.action === 'NEW' || order.action === 'RENEWED') {\n      return {\n        action: 'NEW',\n        patient: patientUuid,\n        type: 'drugorder',\n        careSetting: careSetting,\n        orderer: orderer,\n        encounter: order.encounterUuid,\n        drug: order.drug.uuid,\n        dose: order.dosage.numberOfPills,\n        doseUnits: order.dosageUnit.uuid,\n        route: order.route.conceptUuid,\n        frequency: order.frequency.conceptUuid,\n        asNeeded: order.asNeeded,\n        asNeededCondition: order.asNeededCondition,\n        numRefills: order.numRefills,\n        quantity: order.pillsDispensed,\n        quantityUnits: '162396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',\n        duration: order.duration,\n        durationUnits: order.durationUnit.uuid,\n        dosingType: order.isFreeTextDosage\n          ? 'org.openmrs.FreeTextDosingInstructions'\n          : 'org.openmrs.SimpleDosingInstructions',\n        dosingInstructions: order.isFreeTextDosage ? order.freeTextDosage : order.patientInstructions,\n        concept: order.drug.concept.uuid,\n        orderReasonNonCoded: order.indication,\n        dateActivated: toOmrsDateString(order.startDate),\n      };\n    } else if (order.action === 'REVISE') {\n      return {\n        action: 'REVISE',\n        patient: patientUuid,\n        type: 'drugorder',\n        previousOrder: order.previousOrder,\n        careSetting: careSetting,\n        orderer: orderer,\n        encounter: order.encounterUuid,\n        drug: order.drug.uuid,\n        dose: order.dosage.numberOfPills,\n        doseUnits: order.dosageUnit.uuid,\n        route: order.route.conceptUuid,\n        frequency: order.frequency.conceptUuid,\n        asNeeded: order.asNeeded,\n        asNeededCondition: order.asNeededCondition,\n        numRefills: order.numRefills,\n        quantity: order.pillsDispensed,\n        quantityUnits: '162396AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',\n        duration: order.duration,\n        durationUnits: order.durationUnit.uuid,\n        dosingType: order.isFreeTextDosage\n          ? 'org.openmrs.FreeTextDosingInstructions'\n          : 'org.openmrs.SimpleDosingInstructions',\n        dosingInstructions: order.isFreeTextDosage ? order.freeTextDosage : order.patientInstructions,\n        concept: order.drug.concept.uuid,\n        orderReasonNonCoded: order.indication,\n        dateActivated: toOmrsDateString(order.startDate),\n      };\n    } else if (order.action === 'DISCONTINUE') {\n      return {\n        action: 'DISCONTINUE',\n        type: 'drugorder',\n        previousOrder: order.previousOrder,\n        patient: patientUuid,\n        careSetting: careSetting,\n        encounter: order.encounterUuid,\n        orderer: orderer,\n        concept: order.drug.concept.uuid,\n        drug: order.drug.uuid,\n        orderReasonNonCoded: null,\n      };\n    } else {\n      throw new Error(`Unknown order type ${order.action}. This is a development error.`);\n    }\n  });\n}\n\nfunction calculateEndDate(orderBasketItem: OrderBasketItem) {\n  const dayJsDuration = orderBasketItem.durationUnit.display\n    .substring(0, orderBasketItem.durationUnit.display.lastIndexOf('s'))\n    .toLowerCase();\n\n  return (\n    dayjs(orderBasketItem.startDate)\n      // @ts-ignore\n      .add(orderBasketItem.duration, dayJsDuration)\n      .toDate()\n  );\n}\n","import styles from './order-basket-item.scss';\nimport { Button, ClickableTile, Tile } from 'carbon-components-react';\nimport React, { useRef } from 'react';\nimport { OrderBasketItem } from '../types/order-basket-item';\nimport { TrashCan16, Warning16 } from '@carbon/icons-react';\nimport { useTranslation } from 'react-i18next';\n\nexport interface OrderBasketItemTileProps {\n  orderBasketItem: OrderBasketItem;\n  onClick: () => void;\n  onRemoveClick: () => void;\n}\n\nexport default function OrderBasketItemTile({ orderBasketItem, onClick, onRemoveClick }: OrderBasketItemTileProps) {\n  const { t } = useTranslation();\n\n  // This here is really dirty, but required.\n  // If the ref's value is false, we won't react to the ClickableTile's handleClick function.\n  // Why is this necessary?\n  // The \"Remove\" button is nested inside the ClickableTile. If the button's clicked, the tile also raises the\n  // handleClick event later. Not sure if this is a bug, but this shouldn't be possible in our flows.\n  // Hence, we manually prevent the handleClick callback from being invoked as soon as the button is pressed once.\n  const shouldOnClickBeCalled = useRef(true);\n\n  const tileContent = (\n    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\n      <p className={styles.clipTextWithEllipsis}>\n        <OrderActionLabel orderBasketItem={orderBasketItem} />\n        <br />\n        {orderBasketItem.isFreeTextDosage ? (\n          <>\n            <strong>{orderBasketItem.drug.concept.display}</strong> &mdash; {orderBasketItem.freeTextDosage}\n          </>\n        ) : (\n          <>\n            <strong>{orderBasketItem.drug.concept.display}</strong> &mdash;{' '}\n            <strong>{orderBasketItem.dosage.dosage}</strong>\n            &mdash; {orderBasketItem.dosageUnit.name} &mdash; {orderBasketItem.route.name} &mdash;{' '}\n            {orderBasketItem.frequency.name}\n          </>\n        )}\n        <br />\n        <span className={styles.label01}>{t('refills', 'Refills').toUpperCase()}</span> {orderBasketItem.numRefills}{' '}\n        &mdash; <span className={styles.label01}>{t('quantity', 'Quantity').toUpperCase()}</span>{' '}\n        {orderBasketItem.pillsDispensed} &mdash;{' '}\n        <span className={styles.label01}>{t('indication', 'Indication').toUpperCase()}</span>{' '}\n        {!!orderBasketItem.indication ? orderBasketItem.indication : <i>{t('none', 'None')}</i>}\n        {!!orderBasketItem.orderError && (\n          <>\n            <br />\n            <span className={styles.orderErrorText}>\n              <Warning16 /> &nbsp; <span className={styles.label01}>{t('error', 'Error').toUpperCase()}</span> &nbsp;\n              {orderBasketItem.orderError.responseBody?.error?.message ?? orderBasketItem.orderError.message}\n            </span>\n          </>\n        )}\n      </p>\n      <Button\n        style={{ flex: '0 0 auto' }}\n        kind=\"ghost\"\n        hasIconOnly={true}\n        renderIcon={() => <TrashCan16 />}\n        iconDescription={t('removeFromBasket', 'Remove from basket')}\n        onClick={() => {\n          shouldOnClickBeCalled.current = false;\n          onRemoveClick();\n        }}\n      />\n    </div>\n  );\n\n  return orderBasketItem.action === 'DISCONTINUE' ? (\n    <Tile>{tileContent}</Tile>\n  ) : (\n    <ClickableTile handleClick={() => shouldOnClickBeCalled.current && onClick()}>{tileContent}</ClickableTile>\n  );\n}\n\nfunction OrderActionLabel({ orderBasketItem }: { orderBasketItem: OrderBasketItem }) {\n  const { t } = useTranslation();\n\n  switch (orderBasketItem.action) {\n    case 'NEW':\n      return <span className={styles.orderActionNewLabel}>{t('orderActionNew', 'New')}</span>;\n    case 'RENEWED':\n      return <span className={styles.orderActionRenewLabel}>{t('orderActionRenewed', 'Renew')}</span>;\n    case 'REVISE':\n      return <span className={styles.orderActionRevisedLabel}>{t('orderActionRevised', 'Modify')}</span>;\n    case 'DISCONTINUE':\n      return <span className={styles.orderActionDiscontinueLabel}>{t('orderActionDiscontinue', 'Discontinue')}</span>;\n    default:\n      return <></>;\n  }\n}\n","import OrderBasketItemTile from './order-basket-item.component';\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { OrderBasketItem } from '../types/order-basket-item';\nimport styles from './order-basket-item-list.scss';\n\nexport interface OrderBasketItemListProps {\n  orderBasketItems: Array<OrderBasketItem>;\n  onItemClicked: (order: OrderBasketItem) => void;\n  onItemRemoveClicked: (order: OrderBasketItem) => void;\n}\n\nexport default function OrderBasketItemList({\n  orderBasketItems,\n  onItemClicked,\n  onItemRemoveClicked,\n}: OrderBasketItemListProps) {\n  const { t } = useTranslation();\n  const newOrderBasketItems = orderBasketItems.filter(x => x.action === 'NEW');\n  const renewedOrderBasketItems = orderBasketItems.filter(x => x.action === 'RENEWED');\n  const revisedOrderBasketItems = orderBasketItems.filter(x => x.action === 'REVISE');\n  const discontinuedOrderBasketItems = orderBasketItems.filter(x => x.action === 'DISCONTINUE');\n\n  return (\n    <>\n      <h3 className={styles.productiveHeading02}>{t('orderBasket', 'Order Basket')}</h3>\n      {orderBasketItems.length === 0 && <p>{t('emptyMedicationOrderBasket', 'Your basket is currently empty.')}</p>}\n\n      {newOrderBasketItems.length > 0 && (\n        <>\n          <h4 className={styles.orderCategoryHeading}>\n            {t('newOrders', '{count} new order(s)', { count: newOrderBasketItems.length })}\n          </h4>\n          {newOrderBasketItems.map((order, index) => (\n            <OrderBasketItemTile\n              key={index}\n              orderBasketItem={order}\n              onClick={() => onItemClicked(order)}\n              onRemoveClick={() => onItemRemoveClicked(order)}\n            />\n          ))}\n        </>\n      )}\n\n      {renewedOrderBasketItems.length > 0 && (\n        <>\n          <h4 className={styles.orderCategoryHeading}>\n            {t('renewedOrders', '{count} order(s) being renewed (continued)', {\n              count: renewedOrderBasketItems.length,\n            })}\n          </h4>\n          {renewedOrderBasketItems.map((item, index) => (\n            <OrderBasketItemTile\n              key={index}\n              orderBasketItem={item}\n              onClick={() => onItemClicked(item)}\n              onRemoveClick={() => onItemRemoveClicked(item)}\n            />\n          ))}\n        </>\n      )}\n\n      {revisedOrderBasketItems.length > 0 && (\n        <>\n          <h4 className={styles.orderCategoryHeading}>\n            {t('revisedOrders', '{count} order(s) being modified (revised)', { count: revisedOrderBasketItems.length })}\n          </h4>\n          {revisedOrderBasketItems.map((item, index) => (\n            <OrderBasketItemTile\n              key={index}\n              orderBasketItem={item}\n              onClick={() => onItemClicked(item)}\n              onRemoveClick={() => onItemRemoveClicked(item)}\n            />\n          ))}\n        </>\n      )}\n\n      {discontinuedOrderBasketItems.length > 0 && (\n        <>\n          <h4 className={styles.orderCategoryHeading}>\n            {t('discontinuedOrders', '{count} discontinued order(s)', { count: discontinuedOrderBasketItems.length })}\n          </h4>\n          {discontinuedOrderBasketItems.map((item, index) => (\n            <OrderBasketItemTile\n              key={index}\n              orderBasketItem={item}\n              onClick={() => onItemClicked(item)}\n              onRemoveClick={() => onItemRemoveClicked(item)}\n            />\n          ))}\n        </>\n      )}\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport OrderBasketSearch from './order-basket-search.component';\nimport {\n  Button,\n  // @ts-ignore\n  ButtonSet,\n  DataTableSkeleton,\n  Loading,\n} from 'carbon-components-react';\nimport MedicationOrderForm from './medication-order-form.component';\nimport { OrderBasketItem } from '../types/order-basket-item';\nimport { getDurationUnits, getPatientEncounterId } from '../api/api';\nimport { createErrorHandler } from '@openmrs/esm-error-handling';\nimport { OpenmrsResource } from '../types/openmrs-resource';\nimport { orderDrugs } from './drug-ordering';\nimport OrderBasketItemList from './order-basket-item-list.component';\nimport styles from './order-basket.scss';\nimport { connect } from 'unistore/react';\nimport { OrderBasketStore, OrderBasketStoreActions, orderBasketStoreActions } from '../order-basket-store';\nimport { useHistory } from 'react-router-dom';\nimport { usePatientOrders } from '../utils/use-current-patient-orders.hook';\nimport MedicationsDetailsTable from '../components/medications-details-table.component';\n\nexport interface OrderBasketProps {\n  patientUuid: string;\n  closeWorkspace(): void;\n}\n\nconst OrderBasket = connect<OrderBasketProps, OrderBasketStoreActions, OrderBasketStore, {}>(\n  'items',\n  orderBasketStoreActions,\n)(({ patientUuid, items, closeWorkspace, setItems }: OrderBasketProps & OrderBasketStore & OrderBasketStoreActions) => {\n  const { t } = useTranslation();\n  const [durationUnits, setDurationUnits] = useState<Array<OpenmrsResource>>([]);\n  const [encounterUuid, setEncounterUuid] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  const [medicationOrderFormItem, setMedicationOrderFormItem] = useState<OrderBasketItem | null>(null);\n  const [isMedicationOrderFormVisible, setIsMedicationOrderFormVisible] = useState(false);\n  const [onMedicationOrderFormSigned, setOnMedicationOrderFormSign] = useState<\n    (finalizedOrderBasketItem: OrderBasketItem) => void | null\n  >(null);\n  const history = useHistory();\n  const [activePatientOrders, fetchActivePatientOrders] = usePatientOrders(patientUuid, 'ACTIVE');\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    const durationUnitsRequest = getDurationUnits(abortController).then(\n      res => setDurationUnits(res.data.answers),\n      createErrorHandler,\n    );\n    const patientEncounterRequest = getPatientEncounterId(patientUuid, abortController).then(\n      ({ data }) => setEncounterUuid(data.results[0].uuid),\n      createErrorHandler,\n    );\n\n    Promise.all([durationUnitsRequest, patientEncounterRequest]).finally(() => setIsLoading(false));\n    return () => abortController.abort();\n  }, [patientUuid]);\n\n  const handleSearchResultClicked = (searchResult: OrderBasketItem, directlyAddToBasket: boolean) => {\n    if (directlyAddToBasket) {\n      setItems([...items, searchResult]);\n    } else {\n      openMedicationOrderFormForAddingNewOrder(searchResult);\n    }\n  };\n\n  const openMedicationOrderForm = (item: OrderBasketItem, onSigned: (finalizedOrder: OrderBasketItem) => void) => {\n    setMedicationOrderFormItem(item);\n    setOnMedicationOrderFormSign(_ => finalizedOrder => {\n      setIsMedicationOrderFormVisible(false);\n      setMedicationOrderFormItem(null);\n      onSigned(finalizedOrder);\n    });\n    setIsMedicationOrderFormVisible(true);\n  };\n\n  const handleSaveClicked = () => {\n    const abortController = new AbortController();\n    orderDrugs(items, patientUuid, abortController).then(erroredItems => {\n      setItems(erroredItems);\n      fetchActivePatientOrders();\n\n      if (erroredItems.length == 0) {\n        closeWorkspace();\n      }\n    });\n    return () => abortController.abort();\n  };\n\n  const handleCancelClicked = () => {\n    setItems([]);\n    closeWorkspace();\n  };\n\n  const openMedicationOrderFormForAddingNewOrder = (newOrderBasketItem: OrderBasketItem) => {\n    openMedicationOrderForm(newOrderBasketItem, finalizedOrder => setItems([...items, finalizedOrder]));\n  };\n\n  const openMedicationOrderFormForUpdatingExistingOrder = (existingOrderIndex: number) => {\n    const order = items[existingOrderIndex];\n    openMedicationOrderForm(order, finalizedOrder =>\n      setItems(() => {\n        const newOrders = [...items];\n        newOrders[existingOrderIndex] = finalizedOrder;\n        return newOrders;\n      }),\n    );\n  };\n\n  return (\n    <>\n      <Loading active={isLoading} withOverlay={true} />\n      {isMedicationOrderFormVisible ? (\n        <MedicationOrderForm\n          durationUnits={durationUnits}\n          initialOrderBasketItem={medicationOrderFormItem}\n          onSign={onMedicationOrderFormSigned}\n          onCancel={() => setIsMedicationOrderFormVisible(false)}\n        />\n      ) : (\n        <>\n          <OrderBasketSearch encounterUuid={encounterUuid} onSearchResultClicked={handleSearchResultClicked} />\n\n          <div className={styles.orderBasketContainer}>\n            <OrderBasketItemList\n              orderBasketItems={items}\n              onItemClicked={order => openMedicationOrderFormForUpdatingExistingOrder(items.indexOf(order))}\n              onItemRemoveClicked={order => {\n                const newOrders = [...items];\n                newOrders.splice(items.indexOf(order), 1);\n                setItems(newOrders);\n              }}\n            />\n\n            {activePatientOrders ? (\n              <MedicationsDetailsTable\n                title={t('activeMedications', 'Active Medications')}\n                medications={activePatientOrders}\n                showDiscontinueButton={true}\n                showModifyButton={true}\n                showReorderButton={false}\n                showAddNewButton={false}\n              />\n            ) : (\n              <DataTableSkeleton />\n            )}\n\n            <ButtonSet style={{ marginTop: '2rem' }}>\n              <Button kind=\"secondary\" onClick={handleCancelClicked}>\n                {t('cancel', 'Cancel')}\n              </Button>\n              <Button kind=\"primary\" onClick={handleSaveClicked}>\n                {t('save', 'Save')}\n              </Button>\n            </ButtonSet>\n          </div>\n        </>\n      )}\n    </>\n  );\n});\n\nexport default OrderBasket;\n","import React from 'react';\nimport { defineConfigSchema } from '@openmrs/esm-config';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'unistore/react';\nimport { orderBasketStore } from './order-basket-store';\nimport OrderBasket from './order-basket/order-basket.component';\nimport { switchTo } from '@openmrs/esm-extensions';\nimport { useCurrentPatient } from '@openmrs/esm-react-utils';\n\ndefineConfigSchema('@openmrs/esm-drugorder-app', {});\n\nexport interface RootOrderBasketProps {\n  patientUuid?: string;\n  closeWorkspace?: () => void;\n}\n\nexport default function RootOrderBasket({ patientUuid, closeWorkspace: closeWorkspace }: RootOrderBasketProps) {\n  const [, , fallbackPatientUuid] = useCurrentPatient();\n  patientUuid = patientUuid ?? fallbackPatientUuid;\n  closeWorkspace = closeWorkspace ?? (() => switchTo('link', ''));\n\n  return (\n    <BrowserRouter basename={window['getOpenmrsSpaBase']()}>\n      <Provider store={orderBasketStore}>\n        <OrderBasket patientUuid={patientUuid} closeWorkspace={closeWorkspace} />\n      </Provider>\n    </BrowserRouter>\n  );\n}\n","import { OrderBasketItem } from './types/order-basket-item';\nimport { createGlobalStore } from '@openmrs/esm-api';\n\nexport interface OrderBasketStore {\n  items: Array<OrderBasketItem>;\n}\n\nexport interface OrderBasketStoreActions {\n  setItems: (value: Array<OrderBasketItem> | (() => Array<OrderBasketItem>)) => void;\n}\n\nexport const orderBasketStore = createGlobalStore<OrderBasketStore>('drug-order-basket', {\n  items: [],\n});\n\nexport const orderBasketStoreActions = {\n  setItems(_: OrderBasketStore, value: Array<OrderBasketItem> | (() => Array<OrderBasketItem>)) {\n    return { items: typeof value === 'function' ? value() : value };\n  },\n};\n","import { openmrsFetch } from '@openmrs/esm-api';\nimport { careSetting } from '../constants';\nimport { Order, OrderPost } from '../types/order';\n\nconst durationUnitsConcept = '1732AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA';\n\nexport interface PatientMedicationFetchResponse {\n  results: Array<Order>;\n}\n\nexport function getPatientEncounterId(patientUuid: string, abortController: AbortController) {\n  return openmrsFetch(`/ws/rest/v1/encounter?patient=${patientUuid}&order=desc&limit=1&v=custom:(uuid)`, {\n    signal: abortController.signal,\n  });\n}\n\nexport function getDrugByName(drugName: string, abortController?: AbortController) {\n  return openmrsFetch(\n    `/ws/rest/v1/drug?q=${drugName}&v=custom:(uuid,name,strength,dosageForm:(display,uuid),concept)`,\n    {\n      signal: abortController?.signal,\n    },\n  );\n}\n\nexport function getDurationUnits(abortController: AbortController) {\n  return openmrsFetch(`/ws/rest/v1/concept/${durationUnitsConcept}?v=custom:(answers:(uuid,display))`, abortController);\n}\n\nexport function getMedicationByUuid(abortController: AbortController, orderUuid: string) {\n  return openmrsFetch(\n    `/ws/rest/v1/order/${orderUuid}?v=custom:(uuid,route:(uuid,display),action,urgency,display,drug:(display,strength),frequency:(display),dose,doseUnits:(display),orderer,dateStopped,dateActivated,previousOrder,numRefills,duration,durationUnits:(display),dosingInstructions)`,\n    {\n      signal: abortController.signal,\n    },\n  );\n}\n\nexport function postOrder(body: OrderPost, abortController?: AbortController) {\n  return openmrsFetch(`/ws/rest/v1/order`, {\n    method: 'POST',\n    signal: abortController?.signal,\n    headers: { 'Content-Type': 'application/json' },\n    body,\n  });\n}\n\nexport async function fetchPatientOrders(\n  patientUuid: string,\n  status: 'ACTIVE' | 'any',\n  abortController?: AbortController,\n) {\n  const { data } = await openmrsFetch<PatientMedicationFetchResponse>(\n    `/ws/rest/v1/order?patient=${patientUuid}&careSetting=${careSetting}&status=${status}&v=custom:(uuid,dosingType,orderNumber,accessionNumber,patient:ref,action,careSetting:ref,previousOrder:ref,dateActivated,scheduledDate,dateStopped,autoExpireDate,orderType:ref,encounter:ref,orderer:ref,orderReason,orderReasonNonCoded,orderType,urgency,instructions,commentToFulfiller,drug:(uuid,name,strength,dosageForm:(display,uuid),concept),dose,doseUnits:ref,frequency:ref,asNeeded,asNeededCondition,quantity,quantityUnits:ref,numRefills,dosingInstructions,duration,durationUnits:ref,route:ref,brandName,dispenseAsWritten)`,\n    { signal: abortController?.signal },\n  );\n  return data.results.filter(x => x.orderType.display === 'Drug Order');\n}\n","export const careSetting = '6f0c9a92-6f24-11e3-af88-005056821db0';\n\nexport const daysDurationUnit = {\n  uuid: '1072AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA',\n  display: 'Days',\n};\n","import chunk from 'lodash-es/chunk';\n\n/**\n * Paginates the specified array into a set of pages and returns the page with the specified page number.\n * @param items The items to be paged.\n * @param pageNumber The number of the page to be returned as the first result element. Not zero-based!\n *                   The first page has the number 1.\n * @param itemsPerPage The number of items per page.\n */\nexport function paginate<T>(items: Array<T>, pageNumber: number, itemsPerPage: number): [Array<T>, Array<Array<T>>] {\n  const allPages = chunk(items, itemsPerPage);\n  const page = allPages[pageNumber - 1] ?? [];\n  return [page, allPages];\n}\n","import { useEffect, useState } from 'react';\nimport { createErrorHandler } from '@openmrs/esm-error-handling';\nimport { fetchPatientOrders } from '../api/api';\nimport { Order } from '../types/order';\n\n/**\n * Fetches the orders belonging of a patient and optional provides a way to trigger a re-fetch of\n * that data on demand.\n * @param patientUuid The UUID of the patient whose orders should be fetched.\n * @param status The status/the kind of orders to be fetched.\n */\nexport function usePatientOrders(\n  patientUuid: string,\n  status: 'ACTIVE' | 'any',\n): [Array<Order> | null, (abortController?: AbortController) => Promise<unknown>] {\n  const [orders, setOrders] = useState<Array<Order>>(null);\n  const fetchOrders = (abortController?: AbortController) => {\n    return fetchPatientOrders(patientUuid, status, abortController).then(orders => {\n      setOrders(orders);\n    }, createErrorHandler);\n  };\n\n  useEffect(() => {\n    const abortController = new AbortController();\n    fetchOrders(abortController);\n    return () => abortController.abort();\n  }, [patientUuid]);\n\n  return [orders, fetchOrders];\n}\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../node_modules/sass-loader/dist/cjs.js!./medications-details-table.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medications-details-table__productiveHeading01___Mm5iC{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medications-details-table__productiveHeading02___1KYSl{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading03___3i6fP{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading04___2ow0_{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading05___GkO4Q{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medications-details-table__productiveHeading06___3ghb0{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medications-details-table__bodyShort01___2Dk9p{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyShort02___1lAn0{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medications-details-table__bodyLong01___3HoS-{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medications-details-table__bodyLong02___2UfwL{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medications-details-table__label01___sSG0u{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"resetPatientChartWidgetContainer\": \"esm-drugorder__medications-details-table__resetPatientChartWidgetContainer___1cZKk\",\n\t\"productiveHeading01\": \"esm-drugorder__medications-details-table__productiveHeading01___Mm5iC\",\n\t\"productiveHeading02\": \"esm-drugorder__medications-details-table__productiveHeading02___1KYSl\",\n\t\"productiveHeading03\": \"esm-drugorder__medications-details-table__productiveHeading03___3i6fP\",\n\t\"productiveHeading04\": \"esm-drugorder__medications-details-table__productiveHeading04___2ow0_\",\n\t\"productiveHeading05\": \"esm-drugorder__medications-details-table__productiveHeading05___GkO4Q\",\n\t\"productiveHeading06\": \"esm-drugorder__medications-details-table__productiveHeading06___3ghb0\",\n\t\"bodyShort01\": \"esm-drugorder__medications-details-table__bodyShort01___2Dk9p\",\n\t\"bodyShort02\": \"esm-drugorder__medications-details-table__bodyShort02___1lAn0\",\n\t\"bodyLong01\": \"esm-drugorder__medications-details-table__bodyLong01___3HoS-\",\n\t\"bodyLong02\": \"esm-drugorder__medications-details-table__bodyLong02___2UfwL\",\n\t\"label01\": \"esm-drugorder__medications-details-table__label01___sSG0u\",\n\t\"clipTextWithEllipsis\": \"esm-drugorder__medications-details-table__clipTextWithEllipsis___1ZsL3\"\n};\nmodule.exports = exports;\n","export function getDosage(strength, doseNumber) {\n  if (!strength || !doseNumber) {\n    return '';\n  }\n\n  const i = strength.search(/\\D/);\n  const strengthQuantity = strength.substring(0, i);\n\n  const concentrationStartIndex = strength.search(/\\//);\n\n  let strengthUnits = strength.substring(i);\n  let dosage;\n\n  if (concentrationStartIndex >= 0) {\n    strengthUnits = strength.substring(i, concentrationStartIndex);\n    const j = strength.substring(concentrationStartIndex + 1).search(/\\D/);\n    const concentrationQuantity = strength.substr(concentrationStartIndex + 1, j);\n    const concentrationUnits = strength.substring(concentrationStartIndex + 1 + j);\n    dosage = `${doseNumber} ${strengthUnits} (${(doseNumber / strengthQuantity) *\n      concentrationQuantity} ${concentrationUnits})`;\n  } else {\n    dosage = strengthQuantity * doseNumber + ' ' + strengthUnits;\n  }\n  return dosage;\n}\n","/**\n * Enables a comparison of arbitrary values with support for undefined/null.\n * Requires the `<` and `>` operators to return something reasonable for the provided values.\n */\nexport function compare<T>(x?: T, y?: T) {\n  if (x == undefined && y == undefined) {\n    return 0;\n  } else if (x == undefined) {\n    return -1;\n  } else if (y == undefined) {\n    return 1;\n  } else if (x < y) {\n    return -1;\n  } else if (x > y) {\n    return 1;\n  } else {\n    return 0;\n  }\n}\n","import React, { useCallback, useState } from 'react';\nimport {\n  Button,\n  DataTable,\n  OverflowMenu,\n  OverflowMenuItem,\n  Pagination,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableHeader,\n  TableRow,\n  TableToolbar,\n  TableToolbarContent,\n} from 'carbon-components-react';\nimport { getDosage } from '../utils/get-dosage';\nimport dayjs from 'dayjs';\nimport { useTranslation } from 'react-i18next';\nimport { Add16 } from '@carbon/icons-react';\nimport capitalize from 'lodash-es/capitalize';\nimport styles from './medications-details-table.scss';\nimport { compare } from '../utils/compare';\nimport { paginate } from '../utils/pagination';\nimport { connect } from 'unistore/react';\nimport { OrderBasketStore, OrderBasketStoreActions, orderBasketStoreActions } from '../order-basket-store';\nimport { Order } from '../types/order';\nimport { OrderBasketItem } from '../types/order-basket-item';\n\nexport interface ActiveMedicationsProps {\n  title: string;\n  medications?: Array<Order> | null;\n  showAddNewButton: boolean;\n  showDiscontinueButton: boolean;\n  showModifyButton: boolean;\n  showReorderButton: boolean;\n}\n\nconst MedicationsDetailsTable = connect<\n  ActiveMedicationsProps,\n  OrderBasketStore,\n  OrderBasketStoreActions,\n  ActiveMedicationsProps\n>(\n  'items',\n  orderBasketStoreActions,\n)(\n  ({\n    title,\n    medications,\n    showDiscontinueButton,\n    showModifyButton,\n    showReorderButton,\n    showAddNewButton,\n    items,\n    setItems,\n  }: ActiveMedicationsProps & OrderBasketStore & OrderBasketStoreActions) => {\n    const { t } = useTranslation();\n    const [page, setPage] = useState(1);\n    const [pageSize, setPageSize] = useState(10);\n    const [currentMedicationPage] = paginate(medications, page, pageSize);\n\n    const tableHeaders = [\n      { key: 'startDate', header: t('startDate', 'Start date'), isSortable: true, isVisible: true },\n      { key: 'details', header: t('details', 'Details'), isSortable: true, isVisible: true },\n    ];\n\n    const tableRows = currentMedicationPage.map((medication, id) => ({\n      id: `${id}`,\n      details: {\n        sortKey: medication.drug?.name,\n        content: (\n          <p className={styles.bodyLong01}>\n            <strong>{capitalize(medication.drug?.name)}</strong> &mdash; {medication.doseUnits?.display} &mdash;{' '}\n            {medication.route?.display}\n            <br />\n            <span className={styles.label01}>{t('dose', 'DOSE').toUpperCase()}</span>{' '}\n            <strong>{getDosage(medication.drug?.strength, medication.dose).toLowerCase()}</strong> &mdash;{' '}\n            {medication.frequency?.display} &mdash;{' '}\n            {!medication.duration\n              ? t('medicationUndefinedDuration', 'Indefinite duration')\n              : t('medicationDurationAndUnit', 'for {duration} {durationUnit}', {\n                  duration: medication.duration,\n                  durationUnit: medication.durationUnits?.display,\n                })}\n            <br />\n            <span className={styles.label01}>{t('refills', 'REFILLS').toUpperCase()}</span> {medication.numRefills}\n          </p>\n        ),\n      },\n      startDate: {\n        sortKey: dayjs(medication.dateActivated).toDate(),\n        content: dayjs(medication.dateActivated).format('DD-MMM-YYYY'),\n      },\n    }));\n\n    const sortRow = (cellA, cellB, { sortDirection, sortStates }) => {\n      return sortDirection === sortStates.DESC\n        ? compare(cellB.sortKey, cellA.sortKey)\n        : compare(cellA.sortKey, cellB.sortKey);\n    };\n\n    return (\n      <DataTable headers={tableHeaders} rows={tableRows} isSortable={true} sortRow={sortRow}>\n        {({ rows, headers, getTableProps, getHeaderProps, getRowProps }) => (\n          <TableContainer title={title}>\n            {showAddNewButton && (\n              <TableToolbar>\n                <TableToolbarContent>\n                  <Button renderIcon={() => <Add16 />}>\n                    {/* TODO: Navigate to order basket form once workspace providers are added. */}\n                    {t('add', 'Add')}\n                  </Button>\n                </TableToolbarContent>\n              </TableToolbar>\n            )}\n            <Table {...getTableProps()}>\n              <TableHead>\n                <TableRow>\n                  {headers.map(header => (\n                    <TableHeader\n                      {...getHeaderProps({\n                        header,\n                        isSortable: header.isSortable,\n                      })}>\n                      {header.header}\n                    </TableHeader>\n                  ))}\n                  <TableHeader />\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {rows.map((row, rowIndex) => (\n                  <TableRow {...getRowProps({ row })}>\n                    {row.cells.map(cell => (\n                      <TableCell key={cell.id}>{cell.value?.content ?? cell.value}</TableCell>\n                    ))}\n                    <TableCell className=\"bx--table-column-menu\">\n                      <OrderBasketItemActions\n                        showDiscontinueButton={showDiscontinueButton}\n                        showModifyButton={showModifyButton}\n                        showReorderButton={showReorderButton}\n                        medication={medications[rowIndex]}\n                        items={items}\n                        setItems={setItems}\n                      />\n                    </TableCell>\n                  </TableRow>\n                ))}\n              </TableBody>\n            </Table>\n            <Pagination\n              page={page}\n              pageSize={pageSize}\n              pageSizes={[10, 20, 30, 40, 50]}\n              totalItems={medications.length}\n              onChange={({ page, pageSize }) => {\n                setPage(page);\n                setPageSize(pageSize);\n              }}\n            />\n          </TableContainer>\n        )}\n      </DataTable>\n    );\n  },\n);\n\nfunction OrderBasketItemActions({\n  showDiscontinueButton,\n  showModifyButton,\n  showReorderButton,\n  medication,\n  items,\n  setItems,\n}: {\n  showDiscontinueButton: boolean;\n  showModifyButton: boolean;\n  showReorderButton: boolean;\n  medication: Order;\n  items: Array<OrderBasketItem>;\n  setItems: (items: Array<OrderBasketItem>) => void;\n}) {\n  const { t } = useTranslation();\n  const alreadyInBasket = items.some(x => x.uuid === medication.uuid);\n\n  const handleDiscontinueClick = useCallback(() => {\n    setItems([\n      ...items,\n      {\n        uuid: medication.uuid,\n        previousOrder: null,\n        action: 'DISCONTINUE',\n        drug: medication.drug,\n        dosage: {\n          dosage: getDosage(medication.drug.strength, medication.dose),\n          numberOfPills: medication.dose,\n        },\n        dosageUnit: { uuid: medication.doseUnits.uuid, name: medication.doseUnits.display },\n        frequency: { conceptUuid: medication.frequency.uuid, name: medication.frequency.display },\n        route: { conceptUuid: medication.route.uuid, name: medication.route.display },\n        encounterUuid: medication.encounter.uuid,\n        commonMedicationName: medication.drug.name,\n        isFreeTextDosage: medication.dosingType === 'org.openmrs.FreeTextDosingInstructions',\n        freeTextDosage:\n          medication.dosingType === 'org.openmrs.FreeTextDosingInstructions' ? medication.dosingInstructions : '',\n        patientInstructions:\n          medication.dosingType !== 'org.openmrs.FreeTextDosingInstructions' ? medication.dosingInstructions : '',\n        asNeeded: medication.asNeeded,\n        asNeededCondition: medication.asNeededCondition,\n        startDate: medication.dateActivated,\n        duration: medication.duration,\n        durationUnit: { uuid: medication.durationUnits.uuid, display: medication.durationUnits.display },\n        pillsDispensed: medication.quantity,\n        numRefills: medication.numRefills,\n        indication: medication.orderReasonNonCoded,\n      },\n    ]);\n  }, [items, setItems, medication]);\n\n  const handleModifyClick = useCallback(() => {\n    setItems([\n      ...items,\n      {\n        uuid: medication.uuid,\n        previousOrder: medication.uuid,\n        startDate: new Date(),\n        action: 'REVISE',\n        drug: medication.drug,\n        dosage: {\n          dosage: getDosage(medication.drug.strength, medication.dose),\n          numberOfPills: medication.dose,\n        },\n        dosageUnit: { uuid: medication.doseUnits.uuid, name: medication.doseUnits.display },\n        frequency: { conceptUuid: medication.frequency.uuid, name: medication.frequency.display },\n        route: { conceptUuid: medication.route.uuid, name: medication.route.display },\n        encounterUuid: medication.encounter.uuid,\n        commonMedicationName: medication.drug.name,\n        isFreeTextDosage: medication.dosingType === 'org.openmrs.FreeTextDosingInstructions',\n        freeTextDosage:\n          medication.dosingType === 'org.openmrs.FreeTextDosingInstructions' ? medication.dosingInstructions : '',\n        patientInstructions:\n          medication.dosingType !== 'org.openmrs.FreeTextDosingInstructions' ? medication.dosingInstructions : '',\n        asNeeded: medication.asNeeded,\n        asNeededCondition: medication.asNeededCondition,\n        duration: medication.duration,\n        durationUnit: { uuid: medication.durationUnits.uuid, display: medication.durationUnits.display },\n        pillsDispensed: medication.quantity,\n        numRefills: medication.numRefills,\n        indication: medication.orderReasonNonCoded,\n      },\n    ]);\n  }, [items, setItems, medication]);\n\n  const handleReorderClick = useCallback(() => {\n    setItems([\n      ...items,\n      {\n        uuid: medication.uuid,\n        previousOrder: null,\n        startDate: new Date(),\n        action: 'RENEWED',\n        drug: medication.drug,\n        dosage: {\n          dosage: getDosage(medication.drug.strength, medication.dose),\n          numberOfPills: medication.dose,\n        },\n        dosageUnit: { uuid: medication.doseUnits.uuid, name: medication.doseUnits.display },\n        frequency: { conceptUuid: medication.frequency.uuid, name: medication.frequency.display },\n        route: { conceptUuid: medication.route.uuid, name: medication.route.display },\n        encounterUuid: medication.encounter.uuid,\n        commonMedicationName: medication.drug.name,\n        isFreeTextDosage: medication.dosingType === 'org.openmrs.FreeTextDosingInstructions',\n        freeTextDosage:\n          medication.dosingType === 'org.openmrs.FreeTextDosingInstructions' ? medication.dosingInstructions : '',\n        patientInstructions:\n          medication.dosingType !== 'org.openmrs.FreeTextDosingInstructions' ? medication.dosingInstructions : '',\n        asNeeded: medication.asNeeded,\n        asNeededCondition: medication.asNeededCondition,\n        duration: medication.duration,\n        durationUnit: { uuid: medication.durationUnits.uuid, display: medication.durationUnits.display },\n        pillsDispensed: medication.quantity,\n        numRefills: medication.numRefills,\n        indication: medication.orderReasonNonCoded,\n      },\n    ]);\n  }, [items, setItems, medication]);\n\n  return (\n    <OverflowMenu flipped>\n      {showDiscontinueButton && (\n        <OverflowMenuItem\n          itemText={t('discontinue', 'Discontinue')}\n          onClick={handleDiscontinueClick}\n          disabled={alreadyInBasket}\n        />\n      )}\n      {showModifyButton && (\n        <OverflowMenuItem itemText={t('modify', 'Modify')} onClick={handleModifyClick} disabled={alreadyInBasket} />\n      )}\n      {showReorderButton && (\n        <OverflowMenuItem itemText={t('reorder', 'Reorder')} onClick={handleReorderClick} disabled={alreadyInBasket} />\n      )}\n    </OverflowMenu>\n  );\n}\n\nexport default MedicationsDetailsTable;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../node_modules/sass-loader/dist/cjs.js!./order-basket-search.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-drugorder__order-basket-search__resetPatientChartWidgetContainer___3sVK_{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-search__productiveHeading01___1GbXW{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-search__productiveHeading02___2mTMw{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading03___R2QGI{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading04___2TX_7{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading05___2UZFz{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search__productiveHeading06___3sTeu{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-search__bodyShort01___2RKt-{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-search__bodyShort02___2c2Kw{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-search__bodyLong01___1nC1z{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-search__bodyLong02___3PL5H{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-search__label01___1SbNo{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-search__clipTextWithEllipsis___2I3y3{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-search__searchPopupContainer___1kjRc{position:relative}.esm-drugorder__order-basket-search__searchPopup___3UsrR{margin:0;padding:0;min-height:0;position:absolute;width:100%;box-shadow:0 2px 6px 0 rgba(0,0,0,0.3);z-index:1}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"resetPatientChartWidgetContainer\": \"esm-drugorder__order-basket-search__resetPatientChartWidgetContainer___3sVK_\",\n\t\"productiveHeading01\": \"esm-drugorder__order-basket-search__productiveHeading01___1GbXW\",\n\t\"productiveHeading02\": \"esm-drugorder__order-basket-search__productiveHeading02___2mTMw\",\n\t\"productiveHeading03\": \"esm-drugorder__order-basket-search__productiveHeading03___R2QGI\",\n\t\"productiveHeading04\": \"esm-drugorder__order-basket-search__productiveHeading04___2TX_7\",\n\t\"productiveHeading05\": \"esm-drugorder__order-basket-search__productiveHeading05___2UZFz\",\n\t\"productiveHeading06\": \"esm-drugorder__order-basket-search__productiveHeading06___3sTeu\",\n\t\"bodyShort01\": \"esm-drugorder__order-basket-search__bodyShort01___2RKt-\",\n\t\"bodyShort02\": \"esm-drugorder__order-basket-search__bodyShort02___2c2Kw\",\n\t\"bodyLong01\": \"esm-drugorder__order-basket-search__bodyLong01___1nC1z\",\n\t\"bodyLong02\": \"esm-drugorder__order-basket-search__bodyLong02___3PL5H\",\n\t\"label01\": \"esm-drugorder__order-basket-search__label01___1SbNo\",\n\t\"clipTextWithEllipsis\": \"esm-drugorder__order-basket-search__clipTextWithEllipsis___2I3y3\",\n\t\"searchPopupContainer\": \"esm-drugorder__order-basket-search__searchPopupContainer___1kjRc\",\n\t\"searchPopup\": \"esm-drugorder__order-basket-search__searchPopup___3UsrR\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../node_modules/sass-loader/dist/cjs.js!./order-basket-search-results.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-drugorder__order-basket-search-results__resetPatientChartWidgetContainer___nJSS7{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__order-basket-search-results__productiveHeading01___1zlg_{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__order-basket-search-results__productiveHeading02___3ofT4{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading03____SouU{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading04___3XUdN{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading05___2Y1J9{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__order-basket-search-results__productiveHeading06___2Da7U{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__order-basket-search-results__bodyShort01___ePOYj{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__order-basket-search-results__bodyShort02___1WFki{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__order-basket-search-results__bodyLong01___1u6yH{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__order-basket-search-results__bodyLong02___2Ei9R{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__order-basket-search-results__label01___1yrua{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__order-basket-search-results__clipTextWithEllipsis___1B68G{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__order-basket-search-results__searchResultTile___3ED0C{border-left:2px solid #0f62fe}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"resetPatientChartWidgetContainer\": \"esm-drugorder__order-basket-search-results__resetPatientChartWidgetContainer___nJSS7\",\n\t\"productiveHeading01\": \"esm-drugorder__order-basket-search-results__productiveHeading01___1zlg_\",\n\t\"productiveHeading02\": \"esm-drugorder__order-basket-search-results__productiveHeading02___3ofT4\",\n\t\"productiveHeading03\": \"esm-drugorder__order-basket-search-results__productiveHeading03____SouU\",\n\t\"productiveHeading04\": \"esm-drugorder__order-basket-search-results__productiveHeading04___3XUdN\",\n\t\"productiveHeading05\": \"esm-drugorder__order-basket-search-results__productiveHeading05___2Y1J9\",\n\t\"productiveHeading06\": \"esm-drugorder__order-basket-search-results__productiveHeading06___2Da7U\",\n\t\"bodyShort01\": \"esm-drugorder__order-basket-search-results__bodyShort01___ePOYj\",\n\t\"bodyShort02\": \"esm-drugorder__order-basket-search-results__bodyShort02___1WFki\",\n\t\"bodyLong01\": \"esm-drugorder__order-basket-search-results__bodyLong01___1u6yH\",\n\t\"bodyLong02\": \"esm-drugorder__order-basket-search-results__bodyLong02___2Ei9R\",\n\t\"label01\": \"esm-drugorder__order-basket-search-results__label01___1yrua\",\n\t\"clipTextWithEllipsis\": \"esm-drugorder__order-basket-search-results__clipTextWithEllipsis___1B68G\",\n\t\"searchResultTile\": \"esm-drugorder__order-basket-search-results__searchResultTile___3ED0C\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-1!../../node_modules/sass-loader/dist/cjs.js!./medication-order-form.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-drugorder__medication-order-form__resetPatientChartWidgetContainer___13mY5{text-align:initial;margin:0 1rem 1rem 1rem}.esm-drugorder__medication-order-form__productiveHeading01___3YAe9{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px;margin-bottom:.5rem}.esm-drugorder__medication-order-form__productiveHeading02___2_8Hn{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading03___3Pq5a{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading04___OJcq3{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading05___2PHLW{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0;margin-bottom:1rem}.esm-drugorder__medication-order-form__productiveHeading06___Gdwdm{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0;margin-bottom:1.5rem}.esm-drugorder__medication-order-form__bodyShort01___10zFF{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.esm-drugorder__medication-order-form__bodyShort02___23fah{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.esm-drugorder__medication-order-form__bodyLong01___3wXMF{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.esm-drugorder__medication-order-form__bodyLong02___sgYEF{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.esm-drugorder__medication-order-form__label01___2Nr1t{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.esm-drugorder__medication-order-form__clipTextWithEllipsis___7RBiD{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.esm-drugorder__medication-order-form__medicationDetailsHeader___DLG7Q{position:sticky;background-color:#0f62fe;border:0;top:3rem}.esm-drugorder__medication-order-form__orderForm___ZM3_3{margin:1rem}.esm-drugorder__medication-order-form__pullColumnContentRight___2QcFJ>div{float:right}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container .bx--date-picker-input__wrapper{width:100%}.esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1 .bx--date-picker .bx--date-picker-container .bx--date-picker-input__wrapper .bx--date-picker__input{width:100%}.esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30 .bx--form-item{height:100%}.esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30 .bx--form-item .bx--text-area__wrapper{height:100%}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"resetPatientChartWidgetContainer\": \"esm-drugorder__medication-order-form__resetPatientChartWidgetContainer___13mY5\",\n\t\"productiveHeading01\": \"esm-drugorder__medication-order-form__productiveHeading01___3YAe9\",\n\t\"productiveHeading02\": \"esm-drugorder__medication-order-form__productiveHeading02___2_8Hn\",\n\t\"productiveHeading03\": \"esm-drugorder__medication-order-form__productiveHeading03___3Pq5a\",\n\t\"productiveHeading04\": \"esm-drugorder__medication-order-form__productiveHeading04___OJcq3\",\n\t\"productiveHeading05\": \"esm-drugorder__medication-order-form__productiveHeading05___2PHLW\",\n\t\"productiveHeading06\": \"esm-drugorder__medication-order-form__productiveHeading06___Gdwdm\",\n\t\"bodyShort01\": \"esm-drugorder__medication-order-form__bodyShort01___10zFF\",\n\t\"bodyShort02\": \"esm-drugorder__medication-order-form__bodyShort02___23fah\",\n\t\"bodyLong01\": \"esm-drugorder__medication-order-form__bodyLong01___3wXMF\",\n\t\"bodyLong02\": \"esm-drugorder__medication-order-form__bodyLong02___sgYEF\",\n\t\"label01\": \"esm-drugorder__medication-order-form__label01___2Nr1t\",\n\t\"clipTextWithEllipsis\": \"esm-drugorder__medication-order-form__clipTextWithEllipsis___7RBiD\",\n\t\"medicationDetailsHeader\": \"esm-drugorder__medication-order-form__medicationDetailsHeader___DLG7Q\",\n\t\"orderForm\": \"esm-drugorder__medication-order-form__orderForm___ZM3_3\",\n\t\"pullColumnContentRight\": \"esm-drugorder__medication-order-form__pullColumnContentRight___2QcFJ\",\n\t\"fullWidthDatePickerContainer\": \"esm-drugorder__medication-order-form__fullWidthDatePickerContainer___cnjb1\",\n\t\"fullHeightTextAreaContainer\": \"esm-drugorder__medication-order-form__fullHeightTextAreaContainer___19n30\"\n};\nmodule.exports = exports;\n"],"sourceRoot":""}