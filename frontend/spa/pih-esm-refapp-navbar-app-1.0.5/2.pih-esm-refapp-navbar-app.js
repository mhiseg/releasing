(window["webpackJsonp_pih_esm_refapp-navbar"]=window["webpackJsonp_pih_esm_refapp-navbar"]||[]).push([[2],{20:function(n,a,e){var r=e(10),t=e(21);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[n.i,t,""]]);var o={insert:"head",singleton:!1};r(t,o);n.exports=t.locals||{}},21:function(n,a,e){(a=e(11)(!1)).push([n.i,".esm-refapp-navbar__location-menu__menu___H5nwB {\n  z-index: 1000;\n  background-color: var(--omrs-color-bg-high-contrast);\n  border: 2px solid #63244b;\n  border-radius: 3px;\n  position: absolute;\n  top: 50px;\n  right: 70px;\n  list-style: none;\n  display: grid;\n  grid-auto-columns: 240px;\n  grid-auto-flow: column;\n  grid-template-rows: repeat(13, min-content);\n  border: 2px solid #63244b;\n}\n\n.esm-refapp-navbar__location-menu__menu___H5nwB label {\n  display: flex;\n  background-color: var(--omrs-color-bg-high-contrast);\n  color: var(--omrs-color-ink-high-contrast);\n  padding-bottom: 0.25rem;\n  border-bottom: 1px solid var(--omrs-color-bg-low-contrast);\n  border-radius: 0.25rem;\n  width: 20.5rem;\n}\n\n.esm-refapp-navbar__location-menu__buttonLabel___1J_nZ {\n  position: inherit !important;\n}\n\n.esm-refapp-navbar__location-menu__menu___H5nwB button {\n  background-color: white;\n  border: none;\n  color: #007fff;\n  border-bottom: 1px solid #efefef;\n  text-align: left;\n  /* line-height: 1.5em; */\n  padding: 5px;\n  margin: 0 10px;\n}\n",""]),a.locals={menu:"esm-refapp-navbar__location-menu__menu___H5nwB",buttonLabel:"esm-refapp-navbar__location-menu__buttonLabel___1J_nZ"},n.exports=a},22:function(n,a,e){var r=e(10),t=e(23);"string"==typeof(t=t.__esModule?t.default:t)&&(t=[[n.i,t,""]]);var o={insert:"head",singleton:!1};r(t,o);n.exports=t.locals||{}},23:function(n,a,e){(a=e(11)(!1)).push([n.i,".esm-refapp-navbar__navbar__navbar___3Le26 {\n  z-index: 999;\n  background-color: #501d3d;\n  color: white;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  height: 3.2em;\n  width: 100%;\n  padding: 8px 30px;\n  font-size: 16px;\n}\n\n.esm-refapp-navbar__navbar__navbar___3Le26 div {\n  display: flex;\n  align-items: center;\n}\n\n.esm-refapp-navbar__navbar__navbar___3Le26 button {\n  display: flex;\n  align-items: center;\n}\n\n.esm-refapp-navbar__navbar__navbar___3Le26 svg {\n  margin: 0 12px;\n  font-size: 1.2em;\n}\n\na.esm-refapp-navbar__navbar__navbarLink___ykMqC,\na:visited.esm-refapp-navbar__navbar__navbarLink___ykMqC,\na:hover.esm-refapp-navbar__navbar__navbarLink___ykMqC,\na:link.esm-refapp-navbar__navbar__navbarLink___ykMqC {\n  color: white;\n}\n\na.esm-refapp-navbar__navbar__navbarLink___ykMqC {\n  text-decoration: none;\n}\n\na:hover.esm-refapp-navbar__navbar__navbarLink___ykMqC {\n  text-decoration: underline;\n}\n\n.esm-refapp-navbar__navbar__brand___3zlWB a {\n  display: flex;\n}\n\n.esm-refapp-navbar__navbar__brand___3zlWB svg {\n  filter: invert(100%); /* can't quite get it white */\n}\n\n.esm-refapp-navbar__navbar__menu___1EvyE {\n  line-height: 1.5em;\n}\n\n.esm-refapp-navbar__navbar__menu___1EvyE > div {\n  margin: 0 16px;\n}\n\n.esm-refapp-navbar__navbar__user___3tT-l {\n  color: #ccc;\n}\n\n.esm-refapp-navbar__navbar__locationButton___oeD65 {\n  background-color: transparent;\n  border: 1px solid #63244b;\n  border-radius: 3px;\n  color: white;\n  font: inherit;\n  padding: 2px;\n}\n\n.esm-refapp-navbar__navbar__locationButton___oeD65:hover {\n  background-color: #63244b;\n}\n\n.esm-refapp-navbar__navbar__locationButton___oeD65:focus {\n  outline: thin dotted;\n}\n\n/* Hide Mozilla's button focus style */\n@supports (-moz-appearance: none) {\n  .esm-refapp-navbar__navbar__locationButton___oeD65::-moz-focus-inner {\n    border: none;\n  }\n}\n",""]),a.locals={navbar:"esm-refapp-navbar__navbar__navbar___3Le26",navbarLink:"esm-refapp-navbar__navbar__navbarLink___ykMqC",brand:"esm-refapp-navbar__navbar__brand___3zlWB",menu:"esm-refapp-navbar__navbar__menu___1EvyE",user:"esm-refapp-navbar__navbar__user___3tT-l",locationButton:"esm-refapp-navbar__navbar__locationButton___oeD65"},n.exports=a},8:function(n,a,e){"use strict";e.r(a),e.d(a,"default",(function(){return d}));var r=e(5),t=e.n(r),o=e(6),_=e(0),i=e(12),s=e(24),l=e(26);var c=e(20),b=e.n(c);function p(n){const[a,e]=t.a.useState([]),[r,o]=t.a.useState(null);t.a.useEffect(()=>{const n=Object(_.openmrsObservableFetch)("/ws/rest/v1/location?tag=Login%20Location&v=custom:(uuid,display)").pipe(Object(l.a)(({data:n})=>n.results)).subscribe(n=>e(n),Object(_.createErrorHandler)());return()=>n.unsubscribe()},[]),t.a.useEffect(()=>{const a=new AbortController;return r&&function(n,a){return Object(_.openmrsFetch)("/ws/rest/v1/appui/session",{method:"POST",body:{location:n},headers:{"Content-Type":"application/json"},signal:a.signal})}(r.uuid,a).then(()=>n.onSetLocation(r)).catch(Object(_.createErrorHandler)()).finally(()=>o(null)),()=>a.abort()},[r]);return t.a.createElement("div",{className:b.a.menu},a.map(n=>t.a.createElement("button",{key:"refapp-navbar-"+n.uuid,id:n.uuid,name:"location",onClick:a=>o(n)},n.display)))}var u=e(22),m=e.n(u);function v(n){const a=Object(_.useConfig)(),[e,r]=t.a.useState(null),[l,c]=t.a.useState(null),[b,u]=t.a.useState(!1);return t.a.useEffect(()=>{const n=Object(_.getCurrentUser)({includeAuthStatus:!0}).subscribe(n=>{r(n),n.user&&c(n.sessionLocation)});return()=>n.unsubscribe()},[]),t.a.createElement("nav",null,t.a.createElement("div",{className:m.a.navbar},t.a.createElement("div",{className:"omrs-type-title-4 "+m.a.brand},t.a.createElement("a",{href:a.links.home.url,tabIndex:1},a.brand.src?t.a.createElement("img",{alt:a.brand.alt,src:a.brand.src}):t.a.createElement("svg",{role:"img",width:"10rem"},t.a.createElement("use",{href:"#omrs-logo-partial-mono"})))),t.a.createElement("div",{className:m.a.menu},t.a.createElement("div",{className:m.a.user},t.a.createElement(i.a,{icon:s.e}),e&&e.user&&e.user.display),t.a.createElement("div",null,t.a.createElement("button",{className:m.a.locationButton,onClick:()=>u(!b),tabIndex:2},t.a.createElement(i.a,{icon:s.c}),l&&l.display,t.a.createElement(i.a,{icon:b?s.b:s.a,style:{fontSize:"12px"}}))),t.a.createElement("div",null,t.a.createElement("a",{className:m.a.navbarLink,href:`${window.openmrsBase}/appui/header/logout.action?successUrl=${a.links.logoutRedirect.url}`,tabIndex:3},t.a.createElement(o.Trans,{id:"logout"},"Logout"),t.a.createElement(i.a,{icon:s.d}))))),t.a.createElement("div",{style:b?{}:{display:"none"},onMouseLeave:()=>u(!1)},t.a.createElement(p,{onSetLocation:n=>{c(n),u(!1)}})))}function d(n){return t.a.createElement(v,null)}}}]);
//# sourceMappingURL=2.pih-esm-refapp-navbar-app.js.map