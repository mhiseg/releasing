{"version":3,"file":"870.js","mappings":"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","sources":["webpack://esm-ohri-covid-app/./src/openmrs-backend-dependencies.ts","webpack://esm-ohri-covid-app/./src/covid/dashboard.scss?d0e7","webpack://esm-ohri-covid-app/./src/utils/events.ts","webpack://esm-ohri-covid-app/./src/covid/dashboard.meta.tsx","webpack://esm-ohri-covid-app/./src/index.ts","webpack://esm-ohri-covid-app/./src/covid/dashboard.scss","webpack://esm-ohri-covid-app//Users/larslemos/Documents/DEVELOPMENT/OPENMRS/openmrs-esm-ohri/packages/esm-covid-app/translations|lazy|nonrecursive|/.json$/"],"sourcesContent":["export const backendDependencies = {\n  'webservices.rest': '^2.24.0',\n};\n","\n      import API from \"!../../../../node_modules/openmrs/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../node_modules/openmrs/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../node_modules/openmrs/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../node_modules/openmrs/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../node_modules/openmrs/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../node_modules/openmrs/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/openmrs/node_modules/sass-loader/dist/cjs.js!./dashboard.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../node_modules/openmrs/node_modules/sass-loader/dist/cjs.js!./dashboard.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","const Events = {\n  subscribe: (event: string, callback) => document.addEventListener(event, callback),\n  dispatch: (event: string) => document.dispatchEvent(new CustomEvent(event)),\n};\n\nexport default Events;\n","import React, { useEffect, useState } from 'react';\nimport { SideNavMenu, SideNavMenuItem } from 'carbon-components-react';\nimport { navigate } from '@openmrs/esm-framework';\nimport styles from './dashboard.scss';\nimport Events from '../utils/events';\n\nconst isActiveLink = urlFragment => window.location.pathname.indexOf(urlFragment) !== -1;\nconst shouldSidemenuBeExpanded = (pathname = window.location.pathname) =>\n  pathname.indexOf(covidAssessments_dashboardMeta.name) !== -1 ||\n  pathname.indexOf(covidOutcomes_dashboardMeta.name) !== -1 ||\n  pathname.indexOf(covidLabResults_dashboardMeta.name) !== -1 ||\n  pathname.indexOf(covidVaccinations_dashboardMeta.name) !== -1;\n\nconst menuItems = 4;\n\nconst registerSidenavItem = sidenavItem => {\n  let buffer;\n  const registry = JSON.parse(localStorage.getItem('sidenavItems-Covid'));\n\n  //check if List exists, if not initialize it\n  buffer = registry ? registry : [];\n  buffer.push(sidenavItem);\n\n  localStorage.setItem('sidenavItems-Covid', JSON.stringify(buffer));\n  return buffer;\n};\n\nexport const clearCovidSidenavRegistry = () => localStorage.removeItem('sidenavItems-Covid');\n\nexport const createCovidDashboardLink = db => {\n  const navItems = registerSidenavItem(db);\n  const styling = navItems.length === menuItems ? styles.noMarker : styles.hide;\n\n  const DashboardLink: React.FC<{ basePath: string }> = ({ basePath }, props) => {\n    const [rerender, setRerender] = useState(true);\n    const forceRerender = () => setRerender(!rerender);\n\n    Events.subscribe('navigation-from-hiv', e => {\n      e.preventDefault();\n      forceRerender();\n    });\n\n    return (\n      <div id=\"sidenav-menu-covid\">\n        <SideNavMenu title=\"COVID\" className={styling} defaultExpanded={shouldSidemenuBeExpanded()}>\n          {navItems.map(navItem => (\n            <SideNavMenuItem\n              key={navItem.title}\n              className={isActiveLink(navItem.name) ? styles.currentNavItem : ''}\n              href={`${basePath}/${navItem.name}`}\n              onClick={e => {\n                handleLinkClick(e, `${basePath}/${navItem.name} `);\n                forceRerender();\n                Events.dispatch('navigation-from-covid');\n              }}>\n              {navItem.title}\n            </SideNavMenuItem>\n          ))}\n        </SideNavMenu>\n      </div>\n    );\n  };\n  return DashboardLink;\n};\n\nexport function handleLinkClick(event: any, to: string) {\n  event.preventDefault();\n  navigate({ to });\n}\n\nexport const covidAssessments_dashboardMeta = {\n  name: 'covid-assessments',\n  slot: 'covid-assessments-dashboard-slot',\n  config: { columns: 1, type: 'grid' },\n  title: 'Assessments',\n};\n\nexport const covidLabResults_dashboardMeta = {\n  name: 'covid-lab-results',\n  slot: 'covid-lab-dashboard-slot',\n  config: { columns: 1, type: 'grid' },\n  title: 'Lab Test',\n};\n\nexport const covidVaccinations_dashboardMeta = {\n  name: 'covid-vaccinations',\n  slot: 'covid-vaccinations-dashboard-slot',\n  config: { columns: 1, type: 'grid' },\n  title: 'Vaccinations',\n};\n\nexport const covidOutcomes_dashboardMeta = {\n  name: 'covid-outcomes',\n  slot: 'covid-outcomes-dashboard-slot',\n  config: { columns: 1, type: 'grid' },\n  title: 'Outcomes',\n};\n","import { defineConfigSchema, getAsyncLifecycle, getSyncLifecycle, provide } from '@openmrs/esm-framework';\nimport { backendDependencies } from './openmrs-backend-dependencies';\nimport {\n  clearCovidSidenavRegistry,\n  createCovidDashboardLink,\n  covidAssessments_dashboardMeta,\n  covidOutcomes_dashboardMeta,\n  covidLabResults_dashboardMeta,\n  covidVaccinations_dashboardMeta,\n} from './covid/dashboard.meta';\n\nimport patientDashboardsConfig from './ohri-patient-dashboards-config.json';\n\nconst importTranslation = require.context('../translations', false, /.json$/, 'lazy');\n\nfunction setupOpenMRS () {\n  const moduleName = 'esm-covid-app';\n\n  const options = {\n    featureName: 'ohri-covid',\n    moduleName,\n  };\n\n  defineConfigSchema(moduleName, {});\n\n  // Load configurations\n  provide(patientDashboardsConfig);\n\n  //Clear sidenav items to avoid duplicates\n  clearCovidSidenavRegistry();\n\n  return {\n    pages: [\n      {\n        load: getAsyncLifecycle(() => import('./root'), options),\n        route: /^ohri-covid-home/,\n      },\n    ],\n    extensions: [\n      {\n        id: 'covid-home-header-ext',\n        slot: 'covid-home-header-slot',\n        load: getAsyncLifecycle(() => import('./ohri-home/welcome-section/ohri-welcome-section.component'), {\n          featureName: 'covid-home-header',\n          moduleName,\n        }),\n      },\n      {\n        id: 'covid-home-tile-ext',\n        slot: 'covid-home-tiles-slot',\n        load: getAsyncLifecycle(() => import('./covid/home/summary-tiles/covid-summary-tiles.component'), {\n          featureName: 'covid-home-tiles',\n          moduleName,\n        }),\n      },\n      {\n        id: 'covid-home-tabs-ext',\n        slot: 'covid-home-tabs-slot',\n        load: getAsyncLifecycle(() => import('./covid/home/patient-list-tabs/covid-patient-list-tabs.component'), {\n          featureName: 'covid-home-tabs',\n          moduleName,\n        }),\n      },\n      {\n        id: 'covid-Assessments-dashboard',\n        slot: 'patient-chart-dashboard-slot',\n        load: getSyncLifecycle(createCovidDashboardLink(covidAssessments_dashboardMeta), options),\n        meta: covidAssessments_dashboardMeta,\n        online: true,\n        offline: true,\n      },\n      {\n        id: 'covid-lab-results',\n        slot: 'patient-chart-dashboard-slot',\n        load: getSyncLifecycle(createCovidDashboardLink(covidLabResults_dashboardMeta), options),\n        meta: covidLabResults_dashboardMeta,\n        online: true,\n        offline: true,\n      },\n      {\n        id: 'covid-vaccinations-dashboard',\n        slot: 'patient-chart-dashboard-slot',\n        load: getSyncLifecycle(createCovidDashboardLink(covidVaccinations_dashboardMeta), options),\n        meta: covidVaccinations_dashboardMeta,\n        online: true,\n        offline: true,\n      },\n      {\n        id: 'covid-outcomes-dashboard',\n        slot: 'patient-chart-dashboard-slot',\n        load: getSyncLifecycle(createCovidDashboardLink(covidOutcomes_dashboardMeta), options),\n        meta: covidOutcomes_dashboardMeta,\n        online: true,\n        offline: true,\n      },\n      {\n        id: 'covid-assessments-ext',\n        slot: 'covid-assessments-dashboard-slot',\n        load: getAsyncLifecycle(() => import('./covid/pages/case-assessment.encounter-lists'), {\n          featureName: 'covid-assessment',\n          moduleName,\n        }),\n        meta: {\n          columnSpan: 4,\n        },\n      },\n      {\n        id: 'covid-Lab-results-ext',\n        slot: 'covid-lab-dashboard-slot',\n        load: getAsyncLifecycle(() => import('./covid/pages/lab-results.encounter-list'), {\n          featureName: 'covid-lab-results',\n          moduleName,\n        }),\n        meta: {\n          columnSpan: 4,\n        },\n      },\n      {\n        id: 'covid-vaccinations-ext',\n        slot: 'covid-vaccinations-dashboard-slot',\n        load: getAsyncLifecycle(() => import('./covid/pages/covid-vaccinations.encounter-list'), {\n          featureName: 'covid-vaccinations',\n          moduleName,\n        }),\n        meta: {\n          columnSpan: 4,\n        },\n      },\n      {\n        id: 'covid-outcomes-ext',\n        slot: 'covid-outcomes-dashboard-slot',\n        load: getAsyncLifecycle(() => import('./covid/pages/covid-outcomes.encounter-list'), {\n          featureName: 'covid-outcomes',\n          moduleName,\n        }),\n        meta: {\n          columnSpan: 4,\n        },\n      },\n    ],\n  };\n}\n\nexport { backendDependencies, importTranslation, setupOpenMRS };\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".esm-ohri-covid__dashboard__noMarker___NnFd5{list-style-type:none}.esm-ohri-covid__dashboard__noMarker___NnFd5 button{margin-top:2px;padding-top:2px;padding-bottom:2px;font:lighter}.esm-ohri-covid__dashboard__noMarker___NnFd5 ul li a{padding-left:40px !important}.esm-ohri-covid__dashboard__currentNavItem___JAJBw>a{background-color:#cecece !important;color:#161616 !important;border-left-color:#005d5d !important;font:bolder}.esm-ohri-covid__dashboard__hide___1-Zwl{display:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"noMarker\": \"esm-ohri-covid__dashboard__noMarker___NnFd5\",\n\t\"currentNavItem\": \"esm-ohri-covid__dashboard__currentNavItem___JAJBw\",\n\t\"hide\": \"esm-ohri-covid__dashboard__hide___1-Zwl\"\n};\nmodule.exports = exports;\n","var map = {\n\t\"./en.json\": [\n\t\t3574,\n\t\t574\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(() => {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(() => {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = () => (Object.keys(map));\nwebpackAsyncContext.id = 3979;\nmodule.exports = webpackAsyncContext;"],"names":["backendDependencies","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","event","callback","document","addEventListener","dispatchEvent","CustomEvent","shouldSidemenuBeExpanded","pathname","window","location","indexOf","covidAssessments_dashboardMeta","name","covidOutcomes_dashboardMeta","covidLabResults_dashboardMeta","covidVaccinations_dashboardMeta","createCovidDashboardLink","db","navItems","sidenavItem","buffer","JSON","parse","localStorage","getItem","push","setItem","stringify","registerSidenavItem","styling","length","styles","basePath","props","rerender","setRerender","useState","forceRerender","Events","e","preventDefault","id","title","className","defaultExpanded","map","navItem","SideNavMenuItem","key","urlFragment","href","onClick","to","navigate","slot","config","columns","type","importTranslation","require","setupOpenMRS","moduleName","featureName","defineConfigSchema","provide","patientDashboardsConfig","removeItem","pages","load","getAsyncLifecycle","route","extensions","getSyncLifecycle","meta","online","offline","columnSpan","exports","___CSS_LOADER_API_IMPORT___","module","locals","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","Error","code","ids","keys","Object"],"sourceRoot":""}