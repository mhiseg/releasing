"use strict";(self.webpackChunkopenmrs_ohri_app=self.webpackChunkopenmrs_ohri_app||[]).push([[7648],{54890:(e,t,a)=>{a.d(t,{Z:()=>h});var s=a(14718),n=a(73312),l=a(70404),o=a(68554),r=a(26542),c=a(71642),i=a(71273),u=a(75798),m=a(50576),d=a.n(m);const h=({tableHeaders:e,message:t})=>d().createElement("div",{style:{marginLeft:"-16px"}},d().createElement(s.ZP,{rows:[],headers:e,isSortable:!0,size:"short",useZebraStyles:!0},(({headers:a,getHeaderProps:s,getTableProps:m})=>d().createElement(n.Z,null,d().createElement(l.Z,m(),d().createElement(o.Z,null,d().createElement(r.Z,null,a.map((e=>d().createElement(c.Z,s({header:e,isSortable:e.isSortable}),e.header?.content??e.header))))),d().createElement(i.Z,null,d().createElement(r.Z,null,d().createElement(u.Z,{colSpan:e.length},t))))))))},17648:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var s=a(50576),n=a.n(s),l=a(98261),o=a(59670),r=a(22671),c=a(9588),i=a(91208),u=a(13974),m=a(54890),d=a(75778),h=a(92704);const g=[{key:"name",header:"Name",getValue:e=>`${e.name[0].given.join(" ")} ${e.name[0].family}`,link:{getUrl:e=>`${c.sb}${e.id}/chart`}},{key:"gender",header:"Sex",getValue:e=>(0,u.capitalize)(e.gender)},{key:"age",header:"Age",getValue:e=>(0,i.age)(e.birthDate)},{key:"assessmentDate",header:"Assessment Date",getValue:({latestEncounter:e})=>(0,d.hF)(e,c.eE,!0)},{key:"presentation",header:"Presentation",getValue:({latestEncounter:e})=>(0,d.hF)(e,c.dw,!1,!0)},{key:"outcome",header:"Outcome",getValue:({latestEncounter:e})=>(0,d.hF)(e,c.P)},{key:"outcomeDate",header:"Outcome Date",getValue:({latestEncounter:e})=>(0,d.hF)(e,c.Gc)}],p=()=>{const[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(0),[r,c]=(0,s.useState)(!0),[u,d]=(0,s.useState)(1),[p,S]=(0,s.useState)(10),[b,E]=(0,s.useState)(null),[k,f]=(0,s.useState)(0),[v,C]=(0,s.useState)([]),[y,Z]=(0,s.useState)(0);(0,s.useEffect)((()=>{(0,o.Aq)().then((e=>{t(e.map((e=>e.data))),l(e.length),c(!1)}))}),[p,u]),(0,s.useEffect)((()=>((0,i.attach)("outcomes-table-slot","patient-table"),()=>(0,i.detach)("outcomes-table-slot","patient-table"))),[]);const P=(0,s.useMemo)((()=>({usePagination:!1,currentPage:u,onChange:e=>{d(e.page),S(e.pageSize)},pageSize:p,totalItems:b?y:a})),[u,y,p,a,b]),T=(0,s.useCallback)((t=>{if(E(t),t){const a=(0,h.B)(t,e);C(a),Z(a.length)}}),[e]),V=(0,s.useMemo)((()=>({patients:b?v:e,columns:g,search:{placeHolder:"Search client list",onSearch:T,currentSearchTerm:b},pagination:P,isLoading:r,autoFocus:!0})),[b,v,e,T,P,r]);return(0,s.useEffect)((()=>{f(k+1)}),[V]),n().createElement("div",{style:{width:"100%",marginBottom:"2rem"}},r||e.length?n().createElement(i.ExtensionSlot,{extensionSlotName:"outcomes-table-slot",state:V,key:k}):n().createElement(m.Z,{tableHeaders:g,message:"There are no patients in this list."}))},S=function({launchWorkSpace:e}){const{t}=(0,l.useTranslation)(),[a,i]=(0,s.useState)(100),[u,m]=(0,s.useState)(0),[d,h]=(0,s.useState)(0),[g,S]=(0,s.useState)(0);(0,s.useEffect)((()=>{(0,o.Ig)(c.xB).then((e=>{m(e.members.length)})),(0,o.Ig)(c.f7).then((e=>{h(e.members.length)})),(0,o.Ig)(c.pj).then((e=>{S(e.members.length)}))}),[]);const b=[{title:t("assessments","Assessments"),linkAddress:"#",subTitle:t("testsConducted","Completed assessments"),value:a},{title:t("cases","Cases"),linkAddress:"#",subTitle:t("peopleTestedPositive","People tested positive"),value:d},{title:t("vaccinations","Vaccinations"),linkAddress:"#",subTitle:t("peopleVaccinated","People vaccinated"),value:u},{title:t("outcomes","Outcomes"),linkAddress:"#",subTitle:t("PeopleWithCovidOutcome","People with covid outcome"),value:g,onClick:()=>{e("Covid Outcome",n().createElement(p,null),{numberOfClients:g,subTitle:"Covid Outcome",dateLastUpdated:"--"})}}];return n().createElement(r.Z,{tiles:b})}},92704:(e,t,a)=>{a.d(t,{B:()=>s});const s=(e,t)=>t.filter((t=>-1!==`${t.name[0].given.join(" ")} ${t.name[0].family}`.toLowerCase().search(e.toLowerCase())))}}]);
//# sourceMappingURL=7648.js.map