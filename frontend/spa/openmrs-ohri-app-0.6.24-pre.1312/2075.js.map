{"version":3,"file":"2075.js","mappings":"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","sources":["webpack://openmrs-ohri-app/./src/forms/form-render/form-render.scss?ed3c","webpack://openmrs-ohri-app/./src/forms/form-render/form-render-test.component.tsx","webpack://openmrs-ohri-app/./src/ohri-dashboard/ohri-dashboard.scss?bd08","webpack://openmrs-ohri-app/./src/ohri-dashboard/ohri-dashboard.component.tsx","webpack://openmrs-ohri-app/./src/root.tsx","webpack://openmrs-ohri-app/./src/forms/form-render/form-render.scss","webpack://openmrs-ohri-app/./src/ohri-dashboard/ohri-dashboard.scss"],"sourcesContent":["\n      import API from \"!../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/@openmrs/webpack-config/node_modules/sass-loader/dist/cjs.js!./form-render.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../node_modules/@openmrs/webpack-config/node_modules/sass-loader/dist/cjs.js!./form-render.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useMemo, useState } from 'react';\nimport { Button, Column, Dropdown, Form, Row, Tabs, Tab } from 'carbon-components-react';\nimport styles from './form-render.scss';\nimport { Run32, Maximize32 } from '@carbon/icons-react';\nimport { OHRIFormSchema, SessionMode } from '../types';\nimport OHRIForm from '../ohri-form.component';\nimport { applyFormIntent, loadSubforms } from '../../utils/forms-loader';\nimport AceEditor from 'react-ace';\nimport 'ace-builds/webpack-resolver';\n\nfunction FormRenderTest() {\n  const headerTitle = 'Form Render Test';\n  const patientUUID = 'b280078a-c0ce-443b-9997-3c66c63ec2f8';\n  const [currentFormMode, setCurrentFormMode] = useState<SessionMode>('enter');\n  const [formInput, setFormInput] = useState<OHRIFormSchema>();\n  const [formIntents, setFormIntents] = useState([]);\n  // const [formIntentInput, setFormIntentInput] = useState('Empty Intent'); //TODO: Re-purpose\n  const [isIntentsDropdownDisabled, setIsIntentsDropdownDisabled] = useState(true);\n  const [selectedFormIntent, setSelectedFormIntent] = useState('');\n\n  const [inputErrorMessage, setInputErrorMessage] = useState<any>('');\n  const [outputErrorMessage, setOutputErrorMessage] = useState<any>('');\n\n  const [isSchemaLoaded, setIsSchemaLoaded] = useState(false);\n  const [schemaOutput, setSchemaOutput] = useState('');\n  const [schemaInput, setSchemaInput] = useState(null);\n  const [editorTheme, setEditorTheme] = useState('github');\n  const jsonUrl = useMemo(() => new URLSearchParams(window.location.search).get('json'), []);\n  const [key, setKey] = useState(0);\n  const [defaultJson, setDefaultJson] = useState(null);\n  // This is required because of the enforced CORS policy\n  const corsProxy = 'ohri-form-render.globalhealthapp.net';\n  const availableEditorThemes = [\n    'monokai',\n    'github',\n    'tomorrow',\n    'kuroir',\n    'twilight',\n    'xcode',\n    'solarized_dark',\n    'solarized_light',\n    'terminal',\n  ];\n\n  const loadIntentsFromSchema = jsonSchema => {\n    let _formIntents = jsonSchema.availableIntents || [];\n\n    if (_formIntents.length > 0) {\n      // setFormIntentInput(null);\n      setFormIntents(_formIntents);\n      setIsIntentsDropdownDisabled(false);\n      setSelectedFormIntent('');\n    } else {\n      setFormIntents([]);\n      setIsIntentsDropdownDisabled(true);\n      setSelectedFormIntent('*');\n    }\n  };\n\n  const updateFormIntentInput = e => {\n    // setFormIntentInput(e.selectedItem.intent);\n    setSelectedFormIntent(e.selectedItem.intent);\n    setIsSchemaLoaded(false);\n  };\n\n  const updateFormJsonInput = json => {\n    setInputErrorMessage('');\n    try {\n      const parsedSchema = typeof json == 'string' ? JSON.parse(json) : json;\n      setSchemaInput(parsedSchema);\n      setFormInput(parsedSchema);\n      loadIntentsFromSchema(parsedSchema);\n    } catch (err) {\n      setInputErrorMessage(err.toString());\n    }\n    setIsSchemaLoaded(false);\n  };\n\n  const handleFormSubmission = e => {\n    setIsSchemaLoaded(false);\n    setOutputErrorMessage('');\n    const filteredSchema = applyFormIntent(selectedFormIntent, loadSubforms(schemaInput));\n\n    try {\n      setSchemaOutput(JSON.stringify(filteredSchema, null, '  '));\n      setFormInput(filteredSchema);\n    } catch (err) {\n      setOutputErrorMessage(err.toString());\n    }\n\n    setIsSchemaLoaded(true);\n  };\n\n  const [viewActionText, setViewActionText] = useState('Fullscreen');\n  const toggleViewMode = () => {\n    if (viewActionText === 'Fullscreen') {\n      setViewActionText('Split-screen');\n    } else {\n      setViewActionText('Fullscreen');\n    }\n  };\n\n  useEffect(() => {\n    if (jsonUrl) {\n      const dropboxURLSuffix = '?dl=1';\n      let url = jsonUrl.split('?')[0] + dropboxURLSuffix;\n      url = url.replace('www.dropbox.com', corsProxy);\n      fetch(url)\n        .then(response => response.json())\n        .then(data => {\n          if (data) {\n            setDefaultJson(JSON.stringify(data, null, 2));\n            updateFormJsonInput(data);\n            setKey(key + 1);\n          }\n        })\n        .catch(err => {\n          console.error(err);\n        });\n    }\n  }, [jsonUrl]);\n\n  return (\n    <div className={styles.container}>\n      <div className={styles.mainWrapper}>\n        <div className={styles.formRenderTitle}>{headerTitle}</div>\n        <Row>\n          <Column\n            lg={5}\n            md={5}\n            sm={12}\n            style={{ paddingRight: '0' }}\n            className={styles.renderColumn + ' ' + (viewActionText === 'Split-screen' ? styles.hide : '')}>\n            <h4>JSON Schema</h4>\n            <h5 style={{ color: 'orange', marginBottom: '1rem' }}>{inputErrorMessage}</h5>\n\n            <Tabs type=\"container\">\n              <Tab id=\"tab-form\" label=\"JSON Input\">\n                <Form\n                  onSubmit={e => {\n                    e.preventDefault();\n                    handleFormSubmission(e);\n                  }}>\n                  <AceEditor\n                    key={key}\n                    mode=\"json\"\n                    theme={editorTheme}\n                    onChange={updateFormJsonInput}\n                    name={'jsonText'}\n                    placeholder=\"Enter JSON Text\"\n                    showPrintMargin={true}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    width=\"100%\"\n                    className={styles.jsonEditor}\n                    setOptions={{\n                      enableBasicAutocompletion: true,\n                      enableLiveAutocompletion: true,\n                      displayIndentGuides: true,\n                      enableSnippets: false,\n                      showLineNumbers: true,\n                      tabSize: 2,\n                    }}\n                    defaultValue={defaultJson}\n                  />\n\n                  <div className={styles.renderDropdown}>\n                    <Dropdown\n                      id=\"default\"\n                      titleText=\"Form Intent\"\n                      label=\"--Select Form Intent\"\n                      items={formIntents}\n                      itemToString={item => item.display}\n                      onChange={updateFormIntentInput}\n                      disabled={isIntentsDropdownDisabled}\n                    />\n                  </div>\n\n                  <div className={styles.renderDropdown}>\n                    <Dropdown\n                      id=\"\"\n                      titleText=\"JSON Editor Theme\"\n                      label={editorTheme}\n                      items={availableEditorThemes}\n                      itemToString={item => item}\n                      onChange={e => {\n                        setEditorTheme(e.selectedItem);\n                      }}\n                    />\n                  </div>\n\n                  <Button\n                    type=\"submit\"\n                    renderIcon={Run32}\n                    className=\"form-group\"\n                    style={{ marginTop: '1em' }}\n                    disabled={!selectedFormIntent}>\n                    Render\n                  </Button>\n                </Form>\n              </Tab>\n              <Tab id=\"tab-json-schema\" label=\"Final Schema\">\n                <div className={styles.finalJsonSchema}>\n                  <AceEditor\n                    mode=\"json\"\n                    theme={editorTheme}\n                    value={schemaOutput}\n                    name={'json-schema-result'}\n                    placeholder=\"\"\n                    showPrintMargin={true}\n                    showGutter={true}\n                    highlightActiveLine={true}\n                    width=\"100%\"\n                    height=\"700px\"\n                    readOnly={true}\n                    setOptions={{\n                      enableBasicAutocompletion: false,\n                      enableLiveAutocompletion: false,\n                      displayIndentGuides: true,\n                      enableSnippets: false,\n                      showLineNumbers: true,\n                      tabSize: 2,\n                    }}\n                  />\n                </div>\n              </Tab>\n            </Tabs>\n          </Column>\n\n          <Column lg={viewActionText === 'Split-screen' ? 12 : 7} md={7} sm={12}>\n            <div className={styles.viewMode}>\n              <h4>Generated Form</h4>\n              <Button renderIcon={Maximize32} className={isSchemaLoaded ? styles.show : ''} onClick={toggleViewMode}>\n                {viewActionText}\n              </Button>\n            </div>\n\n            <div className={styles.formRenderContent}>\n              <h5 style={{ color: 'orange', marginBottom: '1rem' }}>{outputErrorMessage}</h5>\n              <Tabs type=\"container\">\n                <Tab id=\"tab-form\" label=\"Form Render\" className={styles.renderTab}>\n                  {isSchemaLoaded ? (\n                    <div className={styles.formRenderDisplay}>\n                      <OHRIForm formJson={formInput} patientUUID={patientUUID} mode={currentFormMode} />\n                    </div>\n                  ) : (\n                    <p>Please submit the form</p>\n                  )}\n                </Tab>\n              </Tabs>\n            </div>\n          </Column>\n        </Row>\n      </div>\n    </div>\n  );\n}\n\nexport default FormRenderTest;\n","\n      import API from \"!../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/@openmrs/webpack-config/node_modules/sass-loader/dist/cjs.js!./ohri-dashboard.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../node_modules/@openmrs/webpack-config/node_modules/sass-loader/dist/cjs.js!./ohri-dashboard.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect, useState } from 'react';\nimport { attach, detach, ExtensionSlot, useExtensionSlotMeta, useLayoutType } from '@openmrs/esm-framework';\nimport styles from './ohri-dashboard.scss';\n\nconst OHRIDashboard = ({ match }) => {\n  const {\n    params: { view },\n  } = match;\n  const [dashboards, setDashboards] = useState([]);\n  const metaLinks = useExtensionSlotMeta('dashboard-links-slot');\n  const metaFolders = useExtensionSlotMeta('dashboard-slot');\n  const meta = { ...metaLinks, ...metaFolders };\n  const folders = Object.values(meta);\n  const [currentDashboard, setCurrentDashboard] = useState(dashboards[0]);\n  const layout = useLayoutType();\n\n  useEffect(() => {\n    if (view) {\n      setCurrentDashboard(dashboards.find(db => db.name == view));\n    } else {\n      setCurrentDashboard(dashboards[0]);\n    }\n  }, [view, dashboards]);\n\n  useEffect(() => {\n    if (layout != 'desktop') {\n      attach('nav-menu-slot', 'ohri-nav-items-ext');\n    }\n    return () => detach('nav-menu-slot', 'ohri-nav-items-ext');\n  }, [layout]);\n\n  return (\n    <div className={styles.dashboardContainer}>\n      {folders.map((f, index) => {\n        return (\n          <GroupAbleMenuItem\n            groupSlot={f.slot}\n            dashboards={dashboards}\n            setDashboards={setDashboards}\n            updateDashboardState={index == folders.length - 1}\n          />\n        );\n      })}\n      {layout === 'desktop' && <ExtensionSlot extensionSlotName=\"ohri-nav-items-slot\" key={layout} />}\n      <div className={`bx--grid ${styles.dashboardContent}`}>\n        {currentDashboard && (\n          <DashboardView\n            dashboardSlot={currentDashboard.slot}\n            title={currentDashboard.title}\n            programme={currentDashboard?.config?.programme}\n            key={currentDashboard.slot}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nconst GroupAbleMenuItem = ({ groupSlot, dashboards, setDashboards, updateDashboardState }) => {\n  const meta = useExtensionSlotMeta(groupSlot);\n  useEffect(() => {\n    if (meta && Object.keys(meta).length) {\n      dashboards.push(...Object.values(meta));\n      updateDashboardState && setDashboards([...dashboards]);\n    }\n  }, [meta]);\n\n  return <></>;\n};\n\nconst DashboardView: React.FC<{ dashboardSlot: string; title: string; programme?: string }> = ({\n  dashboardSlot,\n  title,\n  programme,\n}) => {\n  return (\n    <div>\n      <ExtensionSlot extensionSlotName={dashboardSlot} state={{ programme: programme, dashboardTitle: title }} />\n    </div>\n  );\n};\n\nexport default OHRIDashboard;\n","import React from 'react';\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport FormRenderTest from './forms/form-render/form-render-test.component';\nimport OHRIDashboard from './ohri-dashboard/ohri-dashboard.component';\n\nexport default function Root() {\n  return (\n    <BrowserRouter basename={window['getOpenmrsSpaBase']()}>\n      <Route exact path=\"/form-render-test\" render={props => <FormRenderTest />} />\n      <Route path=\"/dashboard/:view?\" render={props => <OHRIDashboard match={props.match} />} />\n    </BrowserRouter>\n  );\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.openmrs-ohri__form-render__productiveHeading01___3_o8b{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.openmrs-ohri__form-render__productiveHeading02___2fClx{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.openmrs-ohri__form-render__productiveHeading03___3JVfS{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}.openmrs-ohri__form-render__productiveHeading04___2zzYM{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}.openmrs-ohri__form-render__productiveHeading05___1kJGt{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}.openmrs-ohri__form-render__productiveHeading06___379pY{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0}.openmrs-ohri__form-render__bodyShort01___3q2It{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.openmrs-ohri__form-render__helperText01___3_UQe{font-size:.75rem;line-height:1.34;letter-spacing:.32px}.openmrs-ohri__form-render__bodyShort02___26Sw0{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.openmrs-ohri__form-render__bodyLong01___14ysQ{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.openmrs-ohri__form-render__bodyLong02___qImj7{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.openmrs-ohri__form-render__label01___myXsd{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.openmrs-ohri__form-render__text01___1kKVX{color:#161616}.openmrs-ohri__form-render__text02___3HtzU{color:#525252}aside{background-color:#fff !important}div[class*=-esm-login__styles__center]>img{width:140px}.tab-12rem>button{width:12rem !important}.tab-14rem>button{width:14rem !important}.tab-16rem>button{width:16rem !important}.openmrs-ohri__form-render__mainWrapper___2tsMY{background-color:#fff;padding:16px !important;margin:auto}@media(max-width: 768px){.openmrs-ohri__form-render__mainWrapper___2tsMY{max-width:100%;margin-top:1rem}}@media only screen and (min-width: 992px){.openmrs-ohri__form-render__mainWrapper___2tsMY{max-width:90%}}.openmrs-ohri__form-render__headerText___1Lg-9{font-size:16px;font-stretch:normal;font-style:normal;line-height:1.38;letter-spacing:normal;font-weight:400;padding-bottom:4px;margin:auto}.openmrs-ohri__form-render__widgetHeaderContainer___1fyN7{display:flex;justify-content:space-between;align-items:center;padding:.75rem 0 .75rem 1rem}.openmrs-ohri__form-render__widgetHeaderContainer___1fyN7>h4:after{content:\\\" \\\";display:block;width:2rem;padding-top:.188rem;border-bottom:.375rem solid #1a3054}.openmrs-ohri__form-render__toggleButtons___3NoyH{width:fit-content;margin:0 .5rem}.openmrs-ohri__form-render__formRenderContent___7ybie{height:84vh}.openmrs-ohri__form-render__formRenderContent___7ybie>div{padding:0}.openmrs-ohri__form-render__formRenderContent___7ybie>div>p{padding:.5rem}.openmrs-ohri__form-render__renderTab___G1rtC>.openmrs-ohri__form-render__tab-form___3r2LO{border:.01rem dotted #6f6f6f !important;padding:0 0 1rem}.openmrs-ohri__form-render__formRenderDisplay___14-gM{height:75vh;padding:0;border:.01rem dotted #6f6f6f !important;margin-top:.5rem}.openmrs-ohri__form-render__formRenderDisplay___14-gM>form>.openmrs-ohri__form-render__mainContainer___3TMTR>.openmrs-ohri__form-render__overflowContent___YFLx0{padding-bottom:1rem !important}.openmrs-ohri__form-render__formRenderTitle___3QNxu{font-size:25px;font-weight:normal;font-stretch:normal;font-style:normal;line-height:1.29;letter-spacing:normal;color:#161616;margin-bottom:16px}.openmrs-ohri__form-render__container___3JDbs>#openmrs-ohri__form-render__tab-form___3r2LO{padding:0}.openmrs-ohri__form-render__renderColumn___Tg0Zc{border-right:1em}.openmrs-ohri__form-render__renderColumn___Tg0Zc>div>form,.openmrs-ohri__form-render__renderColumn___Tg0Zc>div>.openmrs-ohri__form-render__finalJsonSchema___2cLrh{margin:-1rem;margin-top:-0.5rem}.openmrs-ohri__form-render__renderColumn___Tg0Zc>div>form .openmrs-ohri__form-render__renderDropdown___A3IsB{padding-top:.8rem;width:400px}.openmrs-ohri__form-render__jsonEditor___1m28h,.openmrs-ohri__form-render__finalJsonSchema___2cLrh{border:.01rem dotted #6f6f6f !important}.openmrs-ohri__form-render__viewMode___Tt5uM h4{float:left}.openmrs-ohri__form-render__viewMode___Tt5uM button{float:right;display:none}.openmrs-ohri__form-render__show___1_ve2{display:block !important}.openmrs-ohri__form-render__hide___23UoT{display:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"productiveHeading01\": \"openmrs-ohri__form-render__productiveHeading01___3_o8b\",\n\t\"productiveHeading02\": \"openmrs-ohri__form-render__productiveHeading02___2fClx\",\n\t\"productiveHeading03\": \"openmrs-ohri__form-render__productiveHeading03___3JVfS\",\n\t\"productiveHeading04\": \"openmrs-ohri__form-render__productiveHeading04___2zzYM\",\n\t\"productiveHeading05\": \"openmrs-ohri__form-render__productiveHeading05___1kJGt\",\n\t\"productiveHeading06\": \"openmrs-ohri__form-render__productiveHeading06___379pY\",\n\t\"bodyShort01\": \"openmrs-ohri__form-render__bodyShort01___3q2It\",\n\t\"helperText01\": \"openmrs-ohri__form-render__helperText01___3_UQe\",\n\t\"bodyShort02\": \"openmrs-ohri__form-render__bodyShort02___26Sw0\",\n\t\"bodyLong01\": \"openmrs-ohri__form-render__bodyLong01___14ysQ\",\n\t\"bodyLong02\": \"openmrs-ohri__form-render__bodyLong02___qImj7\",\n\t\"label01\": \"openmrs-ohri__form-render__label01___myXsd\",\n\t\"text01\": \"openmrs-ohri__form-render__text01___1kKVX\",\n\t\"text02\": \"openmrs-ohri__form-render__text02___3HtzU\",\n\t\"mainWrapper\": \"openmrs-ohri__form-render__mainWrapper___2tsMY\",\n\t\"headerText\": \"openmrs-ohri__form-render__headerText___1Lg-9\",\n\t\"widgetHeaderContainer\": \"openmrs-ohri__form-render__widgetHeaderContainer___1fyN7\",\n\t\"toggleButtons\": \"openmrs-ohri__form-render__toggleButtons___3NoyH\",\n\t\"formRenderContent\": \"openmrs-ohri__form-render__formRenderContent___7ybie\",\n\t\"renderTab\": \"openmrs-ohri__form-render__renderTab___G1rtC\",\n\t\"tab-form\": \"openmrs-ohri__form-render__tab-form___3r2LO\",\n\t\"formRenderDisplay\": \"openmrs-ohri__form-render__formRenderDisplay___14-gM\",\n\t\"mainContainer\": \"openmrs-ohri__form-render__mainContainer___3TMTR\",\n\t\"overflowContent\": \"openmrs-ohri__form-render__overflowContent___YFLx0\",\n\t\"formRenderTitle\": \"openmrs-ohri__form-render__formRenderTitle___3QNxu\",\n\t\"container\": \"openmrs-ohri__form-render__container___3JDbs\",\n\t\"renderColumn\": \"openmrs-ohri__form-render__renderColumn___Tg0Zc\",\n\t\"finalJsonSchema\": \"openmrs-ohri__form-render__finalJsonSchema___2cLrh\",\n\t\"renderDropdown\": \"openmrs-ohri__form-render__renderDropdown___A3IsB\",\n\t\"jsonEditor\": \"openmrs-ohri__form-render__jsonEditor___1m28h\",\n\t\"viewMode\": \"openmrs-ohri__form-render__viewMode___Tt5uM\",\n\t\"show\": \"openmrs-ohri__form-render__show___1_ve2\",\n\t\"hide\": \"openmrs-ohri__form-render__hide___23UoT\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.openmrs-ohri__ohri-dashboard__productiveHeading01___3P79l{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.openmrs-ohri__ohri-dashboard__productiveHeading02___kjLGS{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.openmrs-ohri__ohri-dashboard__productiveHeading03___2z59I{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}.openmrs-ohri__ohri-dashboard__productiveHeading04___CVSMM{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}.openmrs-ohri__ohri-dashboard__productiveHeading05___3M08E{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}.openmrs-ohri__ohri-dashboard__productiveHeading06___xMpMU{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0}.openmrs-ohri__ohri-dashboard__bodyShort01___7e2V2{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.openmrs-ohri__ohri-dashboard__helperText01___3WU07{font-size:.75rem;line-height:1.34;letter-spacing:.32px}.openmrs-ohri__ohri-dashboard__bodyShort02___2CSjJ{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.openmrs-ohri__ohri-dashboard__bodyLong01___3WuJ9{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.openmrs-ohri__ohri-dashboard__bodyLong02___FEUqQ{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.openmrs-ohri__ohri-dashboard__label01___3ZwCo{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.openmrs-ohri__ohri-dashboard__text01___2aUoK{color:#161616}.openmrs-ohri__ohri-dashboard__text02___1uSGc{color:#525252}aside{background-color:#fff !important}div[class*=-esm-login__styles__center]>img{width:140px}.tab-12rem>button{width:12rem !important}.tab-14rem>button{width:14rem !important}.tab-16rem>button{width:16rem !important}.openmrs-ohri__ohri-dashboard__dashboardContainer___2Wkvi{display:-webkit-flex;height:90vh;position:relative;overflow-y:hidden}.openmrs-ohri__ohri-dashboard__dashboardContent___1NgW2{margin:0;flex-basis:75%;flex-grow:1;flex-shrink:1;position:relative;overflow-y:auto;margin-left:16rem;padding-left:0;padding-right:0;max-width:100% !important}.openmrs-ohri__ohri-dashboard__noMarker___5CTCm{list-style-type:none}.openmrs-ohri__ohri-dashboard__noMarker___5CTCm ul li a{padding-left:40px !important;font:lighter}.openmrs-ohri__ohri-dashboard__currentNavItem___2cApu>a{background-color:#cecece !important;color:#161616 !important;border-left-color:#1a3054 !important;font:bolder}.openmrs-ohri__ohri-dashboard__hide___3KzbV{display:none}@media(max-width: 1200px){.openmrs-ohri__ohri-dashboard__dashboardContent___1NgW2{margin-left:0}}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"productiveHeading01\": \"openmrs-ohri__ohri-dashboard__productiveHeading01___3P79l\",\n\t\"productiveHeading02\": \"openmrs-ohri__ohri-dashboard__productiveHeading02___kjLGS\",\n\t\"productiveHeading03\": \"openmrs-ohri__ohri-dashboard__productiveHeading03___2z59I\",\n\t\"productiveHeading04\": \"openmrs-ohri__ohri-dashboard__productiveHeading04___CVSMM\",\n\t\"productiveHeading05\": \"openmrs-ohri__ohri-dashboard__productiveHeading05___3M08E\",\n\t\"productiveHeading06\": \"openmrs-ohri__ohri-dashboard__productiveHeading06___xMpMU\",\n\t\"bodyShort01\": \"openmrs-ohri__ohri-dashboard__bodyShort01___7e2V2\",\n\t\"helperText01\": \"openmrs-ohri__ohri-dashboard__helperText01___3WU07\",\n\t\"bodyShort02\": \"openmrs-ohri__ohri-dashboard__bodyShort02___2CSjJ\",\n\t\"bodyLong01\": \"openmrs-ohri__ohri-dashboard__bodyLong01___3WuJ9\",\n\t\"bodyLong02\": \"openmrs-ohri__ohri-dashboard__bodyLong02___FEUqQ\",\n\t\"label01\": \"openmrs-ohri__ohri-dashboard__label01___3ZwCo\",\n\t\"text01\": \"openmrs-ohri__ohri-dashboard__text01___2aUoK\",\n\t\"text02\": \"openmrs-ohri__ohri-dashboard__text02___1uSGc\",\n\t\"dashboardContainer\": \"openmrs-ohri__ohri-dashboard__dashboardContainer___2Wkvi\",\n\t\"dashboardContent\": \"openmrs-ohri__ohri-dashboard__dashboardContent___1NgW2\",\n\t\"noMarker\": \"openmrs-ohri__ohri-dashboard__noMarker___5CTCm\",\n\t\"currentNavItem\": \"openmrs-ohri__ohri-dashboard__currentNavItem___2cApu\",\n\t\"hide\": \"openmrs-ohri__ohri-dashboard__hide___3KzbV\"\n};\nmodule.exports = exports;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","currentFormMode","setCurrentFormMode","useState","formInput","setFormInput","formIntents","setFormIntents","isIntentsDropdownDisabled","setIsIntentsDropdownDisabled","selectedFormIntent","setSelectedFormIntent","inputErrorMessage","setInputErrorMessage","outputErrorMessage","setOutputErrorMessage","isSchemaLoaded","setIsSchemaLoaded","schemaOutput","setSchemaOutput","schemaInput","setSchemaInput","editorTheme","setEditorTheme","jsonUrl","useMemo","URLSearchParams","window","location","search","get","key","setKey","defaultJson","setDefaultJson","updateFormJsonInput","json","parsedSchema","JSON","parse","jsonSchema","_formIntents","availableIntents","length","loadIntentsFromSchema","err","toString","viewActionText","setViewActionText","useEffect","dropboxURLSuffix","url","split","replace","fetch","then","response","data","stringify","catch","console","error","className","styles","Row","Column","lg","md","sm","style","paddingRight","color","marginBottom","Tabs","type","Tab","id","label","Form","onSubmit","e","preventDefault","filteredSchema","applyFormIntent","loadSubforms","handleFormSubmission","mode","theme","onChange","name","placeholder","showPrintMargin","showGutter","highlightActiveLine","width","setOptions","enableBasicAutocompletion","enableLiveAutocompletion","displayIndentGuides","enableSnippets","showLineNumbers","tabSize","defaultValue","Dropdown","titleText","items","itemToString","item","display","selectedItem","intent","disabled","Button","renderIcon","Run32","marginTop","value","height","readOnly","Maximize32","onClick","formJson","patientUUID","GroupAbleMenuItem","groupSlot","dashboards","setDashboards","updateDashboardState","meta","useExtensionSlotMeta","Object","keys","push","values","DashboardView","dashboardSlot","title","programme","ExtensionSlot","extensionSlotName","state","dashboardTitle","match","params","view","folders","currentDashboard","setCurrentDashboard","layout","useLayoutType","find","db","attach","detach","map","f","index","slot","config","Root","basename","exact","path","render","props","exports","___CSS_LOADER_API_IMPORT___","module","locals"],"sourceRoot":""}