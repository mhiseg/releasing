{"version":3,"file":"709.js","mappings":"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","sources":["webpack://openmrs-ohri-app/./src/pages/hiv/hts/patient-tabs/ohri-patient-tabs.scss?a026","webpack://openmrs-ohri-app/./src/pages/hiv/hts/patient-tabs/ohri-patient-tabs.component.tsx","webpack://openmrs-ohri-app/./src/workspace/ohri-workspace-utils.ts","webpack://openmrs-ohri-app/./src/utils/ohri-forms-commons.ts","webpack://openmrs-ohri-app/./src/pages/hiv/hts/patient-tabs/ohri-patient-tabs.scss"],"sourcesContent":["\n      import API from \"!../../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../../../node_modules/@openmrs/webpack-config/node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/@openmrs/webpack-config/node_modules/sass-loader/dist/cjs.js!./ohri-patient-tabs.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[2].use[1]!../../../../../node_modules/@openmrs/webpack-config/node_modules/sass-loader/dist/cjs.js!./ohri-patient-tabs.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import React, { useEffect } from 'react';\nimport { Tabs, Tab, Row, Column } from 'carbon-components-react';\nimport styles from './ohri-patient-tabs.scss';\nimport CohortPatientList from '../../../../components/patient-lists/patient-list-cohort.component';\nimport {\n  htsRetrospectiveEncounterType,\n  postTestCounsellingCohort,\n  preTestCounsellingCohort,\n  waitingForHIVTestCohort,\n} from '../../../../constants';\n\nfunction OHRIPatientTabs() {\n  const formPackage = 'hiv';\n  const formName = 'hts';\n  return (\n    <Tabs type=\"container\" className={styles.tabContainer}>\n      <Tab id=\"tab-1\" label=\"Waiting for pre-test counselling\">\n        <CohortPatientList\n          cohortId={preTestCounsellingCohort}\n          cohortSlotName=\"pre-test-counseling-slot\"\n          associatedEncounterType={htsRetrospectiveEncounterType}\n          addPatientToListOptions={{\n            isEnabled: true,\n            excludeCohorts: ['Post-Test Counselling'],\n          }}\n          launchableForm={{\n            package: formPackage,\n            name: formName,\n            intent: 'HTS_PRETEST',\n            actionText: 'Start Pre-test',\n            editLatestEncounter: true,\n            encounterType: htsRetrospectiveEncounterType,\n            targetDashboard: 'hts-summary',\n          }}\n        />\n      </Tab>\n      <Tab id=\"tab-2\" label=\"Waiting for HIV test\">\n        <CohortPatientList\n          cohortId={waitingForHIVTestCohort}\n          cohortSlotName=\"waiting-for-hiv-testing-slot\"\n          addPatientToListOptions={{\n            isEnabled: true,\n            excludeCohorts: [],\n          }}\n          launchableForm={{\n            package: formPackage,\n            name: formName,\n            intent: 'HTS_HIVTEST',\n            actionText: 'Start HIV Test',\n            editLatestEncounter: true,\n            encounterType: htsRetrospectiveEncounterType,\n            targetDashboard: 'hts-summary',\n          }}\n        />\n      </Tab>\n      <Tab id=\"tab-3\" label=\"Waiting for post-test counselling\">\n        <CohortPatientList\n          cohortId={postTestCounsellingCohort}\n          cohortSlotName=\"post-test-counseling-slot\"\n          addPatientToListOptions={{\n            isEnabled: true,\n            excludeCohorts: [],\n          }}\n          launchableForm={{\n            package: formPackage,\n            name: formName,\n            intent: 'HTS_POSTTEST',\n            actionText: 'Start Post-test counselling',\n            editLatestEncounter: true,\n            encounterType: htsRetrospectiveEncounterType,\n            targetDashboard: 'hts-summary',\n          }}\n        />\n      </Tab>\n    </Tabs>\n  );\n}\n\nexport default OHRIPatientTabs;\n","import { getAsyncLifecycle } from '@openmrs/esm-framework';\nimport { BehaviorSubject } from 'rxjs';\nimport { SessionMode } from '../forms/types';\nimport { closeWorkspace, launchPatientWorkspace, registerWorkspace } from '@openmrs/esm-patient-common-lib';\nexport interface WorkspaceContextProps {\n  title: string;\n  encounterUuid?: string;\n  state?: any;\n  mode?: SessionMode;\n  screenSize?: string;\n  collapseSections?: Boolean;\n  workspaceName?: string;\n}\nconst workspaceMeta = {\n  featureName: 'ohri-forms-workspace-item',\n  moduleName: '@openmrs/esm-ohri-app',\n};\n\nlet counter = 0;\n\nexport const launchOHRIWorkSpace = (props: WorkspaceContextProps) => {\n  const workspaceName = props.workspaceName || 'ohri-forms-' + counter++;\n\n  const close = () => {\n    return closeWorkspace(workspaceName);\n  };\n  const onFormSubmit = () => {\n    props.state?.updateParent?.();\n    close();\n  };\n  registerWorkspace({\n    name: workspaceName,\n    title: props.title,\n    preferredWindowSize: <any>props.screenSize,\n    load: getAsyncLifecycle(() => import('./../forms/ohri-form.component'), workspaceMeta),\n  });\n\n  launchPatientWorkspace(workspaceName, {\n    ...props.state,\n    mode: props.mode,\n    encounterUuid: props.encounterUuid,\n    onCancel: close,\n    onSubmit: onFormSubmit,\n  });\n};\n\nexport const workspaceContext = new BehaviorSubject<WorkspaceContextProps | null>(null);\n","import { launchOHRIWorkSpace } from '../workspace/ohri-workspace-utils';\n\nexport const launchForm = (form: any, onUpdateParent?: () => void, title?: string, workspaceName?: string) => {\n  launchOHRIWorkSpace({\n    title: title || form?.name,\n    screenSize: 'maximized',\n    mode: 'enter',\n    state: { updateParent: onUpdateParent, formJson: form },\n    collapseSections: true,\n    workspaceName,\n  });\n};\nexport const launchFormInEditMode = (\n  form: any,\n  encounterUuid: string,\n  onUpdateParent?: () => void,\n  title?: string,\n  workspaceName?: string,\n) => {\n  launchOHRIWorkSpace({\n    title: title || form.name,\n    encounterUuid: encounterUuid,\n    screenSize: 'maximized',\n    mode: 'edit',\n    state: { updateParent: onUpdateParent, formJson: form },\n    collapseSections: true,\n    workspaceName,\n  });\n};\nexport const launchFormInViewMode = (\n  form: any,\n  encounterUuid: string,\n  onUpdateParent?: () => void,\n  title?: string,\n  workspaceName?: string,\n) => {\n  launchOHRIWorkSpace({\n    title: title || form.name,\n    encounterUuid: encounterUuid,\n    screenSize: 'maximized',\n    mode: 'view',\n    state: { updateParent: onUpdateParent, formJson: form },\n    collapseSections: true,\n    workspaceName,\n  });\n};\n\nexport const launchFormWithCustomTitle = (\n  form: any,\n  title: string,\n  mode: string,\n  encounterUuid: string,\n  onUpdateParent?: () => void,\n) => {\n  switch (mode) {\n    case 'edit':\n      launchFormInEditMode(form, encounterUuid, onUpdateParent, title);\n      break;\n    case 'view':\n      launchFormInViewMode(form, encounterUuid, onUpdateParent, title);\n      break;\n    default:\n      launchForm(form, onUpdateParent, title);\n  }\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79}.openmrs-ohri__ohri-patient-tabs__productiveHeading01___3ouev{font-size:.875rem;font-weight:600;line-height:1.29;letter-spacing:.16px}.openmrs-ohri__ohri-patient-tabs__productiveHeading02___1taSZ{font-size:1rem;font-weight:600;line-height:1.375;letter-spacing:0}.openmrs-ohri__ohri-patient-tabs__productiveHeading03___1E8Bl{font-size:1.25rem;font-weight:400;line-height:1.4;letter-spacing:0}.openmrs-ohri__ohri-patient-tabs__productiveHeading04___2WINo{font-size:1.75rem;font-weight:400;line-height:1.29;letter-spacing:0}.openmrs-ohri__ohri-patient-tabs__productiveHeading05___1eeC1{font-size:2rem;font-weight:400;line-height:1.25;letter-spacing:0}.openmrs-ohri__ohri-patient-tabs__productiveHeading06___2XeOx{font-size:2rem;font-weight:300;line-height:1.199;letter-spacing:0}.openmrs-ohri__ohri-patient-tabs__bodyShort01___3a4_O{font-size:.875rem;font-weight:400;line-height:1.29;letter-spacing:.16px}.openmrs-ohri__ohri-patient-tabs__helperText01___2JUtr{font-size:.75rem;line-height:1.34;letter-spacing:.32px}.openmrs-ohri__ohri-patient-tabs__bodyShort02___3fATS{font-size:1rem;font-weight:400;line-height:1.375;letter-spacing:0}.openmrs-ohri__ohri-patient-tabs__bodyLong01___1Bvlt{font-size:.875rem;font-weight:400;line-height:1.43;letter-spacing:.16px}.openmrs-ohri__ohri-patient-tabs__bodyLong02___Dn7qP{font-size:1rem;font-weight:400;line-height:1.5;letter-spacing:0}.openmrs-ohri__ohri-patient-tabs__label01___6BJJ8{font-size:.75rem;font-weight:400;line-height:1.34;letter-spacing:.32px}.openmrs-ohri__ohri-patient-tabs__text01___1d_Rn{color:#161616}.openmrs-ohri__ohri-patient-tabs__text02___7o9Rf{color:#525252}aside{background-color:#fff !important}div[class*=-esm-login__styles__center]>img{width:140px}.tab-12rem>button{width:12rem !important}.tab-14rem>button{width:14rem !important}.tab-16rem>button{width:16rem !important}.openmrs-ohri__ohri-patient-tabs__container___1idGF{margin-top:16px;margin-left:inherit;width:100%;overflow-y:hidden}.openmrs-ohri__ohri-patient-tabs__tabContainer___3H_ra{margin-top:16px;padding-left:1rem;background-color:#fff}.openmrs-ohri__ohri-patient-tabs__tabContainer___3H_ra li button{width:100% !important}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"productiveHeading01\": \"openmrs-ohri__ohri-patient-tabs__productiveHeading01___3ouev\",\n\t\"productiveHeading02\": \"openmrs-ohri__ohri-patient-tabs__productiveHeading02___1taSZ\",\n\t\"productiveHeading03\": \"openmrs-ohri__ohri-patient-tabs__productiveHeading03___1E8Bl\",\n\t\"productiveHeading04\": \"openmrs-ohri__ohri-patient-tabs__productiveHeading04___2WINo\",\n\t\"productiveHeading05\": \"openmrs-ohri__ohri-patient-tabs__productiveHeading05___1eeC1\",\n\t\"productiveHeading06\": \"openmrs-ohri__ohri-patient-tabs__productiveHeading06___2XeOx\",\n\t\"bodyShort01\": \"openmrs-ohri__ohri-patient-tabs__bodyShort01___3a4_O\",\n\t\"helperText01\": \"openmrs-ohri__ohri-patient-tabs__helperText01___2JUtr\",\n\t\"bodyShort02\": \"openmrs-ohri__ohri-patient-tabs__bodyShort02___3fATS\",\n\t\"bodyLong01\": \"openmrs-ohri__ohri-patient-tabs__bodyLong01___1Bvlt\",\n\t\"bodyLong02\": \"openmrs-ohri__ohri-patient-tabs__bodyLong02___Dn7qP\",\n\t\"label01\": \"openmrs-ohri__ohri-patient-tabs__label01___6BJJ8\",\n\t\"text01\": \"openmrs-ohri__ohri-patient-tabs__text01___1d_Rn\",\n\t\"text02\": \"openmrs-ohri__ohri-patient-tabs__text02___7o9Rf\",\n\t\"container\": \"openmrs-ohri__ohri-patient-tabs__container___1idGF\",\n\t\"tabContainer\": \"openmrs-ohri__ohri-patient-tabs__tabContainer___3H_ra\"\n};\nmodule.exports = exports;\n"],"names":["options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","undefined","formPackage","formName","Tabs","type","className","styles","Tab","id","label","cohortId","preTestCounsellingCohort","cohortSlotName","associatedEncounterType","htsRetrospectiveEncounterType","addPatientToListOptions","isEnabled","excludeCohorts","launchableForm","package","name","intent","actionText","editLatestEncounter","encounterType","targetDashboard","waitingForHIVTestCohort","postTestCounsellingCohort","workspaceMeta","featureName","moduleName","counter","launchOHRIWorkSpace","props","workspaceName","close","closeWorkspace","registerWorkspace","title","preferredWindowSize","screenSize","load","getAsyncLifecycle","launchPatientWorkspace","state","mode","encounterUuid","onCancel","onSubmit","updateParent","launchForm","BehaviorSubject","form","onUpdateParent","formJson","collapseSections","launchFormInEditMode","launchFormInViewMode","launchFormWithCustomTitle","exports","___CSS_LOADER_API_IMPORT___","push","module","locals"],"sourceRoot":""}